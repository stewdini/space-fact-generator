<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Random Space Fact Generator | Space Simplified</title>

<!-- Favicon links added here -->
<link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png" />
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png" />
<link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png" />
<link rel="manifest" href="site.webmanifest" />
<link rel="mask-icon" href="safari-pinned-tab.svg" color="#5bbad5" />
<link rel="shortcut icon" href="favicon.ico" />
<meta name="msapplication-TileColor" content="#2b5797" />
<meta name="msapplication-config" content="browserconfig.xml" />
<meta name="theme-color" content="#000000" />

<style>
  /* Your full original styles here unchanged */
  body {
    margin: 0;
    height: 100vh;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    color: #e0e0e0;
    background: #000010;
    overflow: hidden;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    text-align: center;
    padding: 1rem;
    position: relative;
  }

  canvas#starfield {
    position: fixed;
    top: 0; left: 0;
    width: 100%;
    height: 100%;
    z-index: 0;
    pointer-events: none;
  }

  /* Space objects base style */
  .space-object {
    position: fixed;
    pointer-events: none;
    z-index: 0;
    will-change: transform;
  }

  /* PLANETS with subtle craters using multiple radial gradients */
  .planet {
    border-radius: 50%;
    box-shadow: 0 0 8px 1px rgba(100,150,255,0.3);
    background-repeat: no-repeat;
    background-position: center;
    background-size: cover;
  }
  .planet.red {
    background-color: #b0413e;
    background-image:
      radial-gradient(circle at 30% 30%, #a03736 10%, transparent 12%),
      radial-gradient(circle at 70% 60%, #a83a3a 15%, transparent 18%),
      radial-gradient(circle at 55% 75%, #80312f 8%, transparent 10%);
    box-shadow: 0 0 6px 1px rgba(180, 65, 62, 0.35);
  }
  .planet.blue {
    background-color: #4b7dad;
    background-image:
      radial-gradient(circle at 25% 25%, #3d6890 8%, transparent 10%),
      radial-gradient(circle at 65% 60%, #366384 14%, transparent 17%),
      radial-gradient(circle at 50% 80%, #2b516f 7%, transparent 9%);
    box-shadow: 0 0 6px 1px rgba(75, 125, 173, 0.35);
  }
  .planet.green {
    background-color: #4ca36c;
    background-image:
      radial-gradient(circle at 30% 30%, #418b5a 10%, transparent 12%),
      radial-gradient(circle at 70% 60%, #3e7e52 14%, transparent 17%),
      radial-gradient(circle at 55% 75%, #2e5c3d 7%, transparent 9%);
    box-shadow: 0 0 6px 1px rgba(76, 163, 108, 0.35);
  }
  .planet.orange {
    background-color: #d17f3c;
    background-image:
      radial-gradient(circle at 30% 30%, #ab6831 10%, transparent 12%),
      radial-gradient(circle at 70% 60%, #9c5f2b 14%, transparent 17%),
      radial-gradient(circle at 55% 75%, #6d411d 7%, transparent 9%);
    box-shadow: 0 0 6px 1px rgba(209, 127, 60, 0.35);
  }
  .planet.purple {
    background-color: #7855b8;
    background-image:
      radial-gradient(circle at 30% 30%, #6646a1 10%, transparent 12%),
      radial-gradient(circle at 70% 60%, #5a3d8a 14%, transparent 17%),
      radial-gradient(circle at 55% 75%, #3d2b5f 7%, transparent 9%);
    box-shadow: 0 0 6px 1px rgba(120, 85, 184, 0.35);
  }

  /* COMETS textured with layered linear gradient, no transparency */
  .comet {
    border-radius: 50% / 60%;
    background: linear-gradient(90deg, #a0f0ff 0%, #66fcf1 30%, #b3ffff 60%, #66fcf1 80%, #a0f0ff 100%);
    box-shadow: 0 0 8px 3px #66fcf1aa;
  }

  /* ASTEROIDS with irregular shape using clip-path and layered radial gradients */
  .asteroid {
    background: radial-gradient(circle at 40% 40%, #997a55 40%, #6b5432 70%);
    clip-path: polygon(
      30% 0%, 70% 10%, 100% 40%, 85% 70%, 55% 100%, 20% 90%, 5% 50%, 10% 20%
    );
    box-shadow: 0 0 5px 1px #6b543266;
  }

  /* ROCKETS: base styles */
  .space-object.rocket {
    background-size: contain;
    background-repeat: no-repeat;
    background-position: center;
    width: 30px !important;
    height: 40px !important;
    filter: drop-shadow(0 0 1.5px #fff9);
  }

  /* Heading and sparkle styles */
  h1 {
    font-size: 3rem;
    margin-bottom: 1rem;
    position: relative;
    z-index: 1;
    text-shadow: 0 0 8px #66fcf1;
  }

  .sparkle {
    display: inline-block;
    animation: sparkleAnim 2s linear infinite;
    font-size: 2.2rem;
    color: #66fcf1;
    margin-left: 0.3em;
    position: relative;
    top: 5px;
  }

  @keyframes sparkleAnim {
    0%, 100% { opacity: 1; transform: rotate(0deg) scale(1); }
    50% { opacity: 0.5; transform: rotate(20deg) scale(1.3); }
  }

  /* Fact display container */
  #factWrapper {
    position: relative;
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 10px;
    flex-wrap: wrap;
    max-width: 700px;
    z-index: 1;
  }

  #factDisplay {
    font-size: 1.4rem;
    margin: 2rem 0;
    line-height: 1.6;
    position: relative;
    opacity: 0;
    animation: fadeIn 1s forwards;
    text-shadow: 0 0 6px #45a29eaa;
    max-width: 600px;
    word-wrap: break-word;
  }

  #factDisplay.show {
    animation: fadeIn 1s forwards;
    opacity: 1;
  }

  @keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
  }

  /* Copy button and feedback */
  #copyButton {
    background: none;
    border: none;
    cursor: pointer;
    padding: 0;
    margin-left: 4px;
    display: none; /* hidden initially */
    color: #ccc;
    transition: color 0.2s ease, transform 0.2s ease;
    width: 24px;
    height: 24px;
    flex-shrink: 0;
  }

  #copyButton:hover {
    color: #fff;
    transform: scale(1.2);
  }

  #copyFeedback {
    font-size: 1.5rem;
    color: #66fcf1;
    margin-left: 8px;
    user-select: none;
    display: none;
    align-self: center;
  }

  /* Buttons container */
  .buttons-container {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    margin-top: 1rem;
    position: relative;
    z-index: 2;
  }

  /* Fact Button styles */
  #factButton {
    padding: 14px 35px;
    font-size: 1.3rem;
    border: none;
    border-radius: 10px;
    background-color: #1f2833;
    color: #66fcf1;
    cursor: pointer;
    transition: background-color 0.4s ease, box-shadow 0.4s ease, transform 0.2s ease;
    box-shadow: 0 0 12px #45a29e99;
    animation: pulseGlow 2.5s ease-in-out infinite;
  }

  #factButton:disabled {
    cursor: not-allowed;
    opacity: 0.5;
    animation: none;
    box-shadow: none;
    background-color: #0a141b;
    color: #444;
  }

  @keyframes pulseGlow {
    0%, 100% { box-shadow: 0 0 12px #45a29e99, 0 0 20px #66fcf1cc; }
    50% { box-shadow: 0 0 20px #45a29ecc, 0 0 30px #66fcf1ff; }
  }

  #factButton:hover:not(:disabled) {
    background-color: #45a29e;
    box-shadow: 0 0 30px #66fcf1ff;
    transform: scale(1.05);
    animation: none;
  }

  #factButton:active:not(:disabled) {
    transform: scale(0.95);
    box-shadow: 0 0 10px #45a29e99;
  }

  /* Mute toggle icon */
  #muteToggle {
    background: none;
    border: none;
    font-size: 1.4rem;
    cursor: pointer;
    color: #66fcf1;
    padding: 0;
    margin: 0 0 0 12px;
    line-height: 1;
    user-select: none;
    transition: transform 0.2s ease;
  }

  #muteToggle:hover {
    transform: scale(1.2);
  }
</style>
</head>
<body>
  <canvas id="starfield"></canvas>

  <!-- Container for space objects -->
  <div id="spaceObjectsContainer"></div>

  <h1>ðŸ”­ Random Space Fact Generator<span class="sparkle">âœ¨</span></h1>

  <div id="factWrapper" style="display:flex; align-items:center; justify-content:center; gap: 6px; flex-wrap:wrap; max-width:700px;">
    <p id="factDisplay">Click the button below to learn a cool space fact!</p>

    <button id="copyButton" title="Copy to clipboard" aria-label="Copy fact" aria-live="polite" aria-atomic="true" role="button">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
        stroke-linecap="round"
        stroke-linejoin="round"
        viewBox="0 0 24 24"
        width="24"
        height="24"
        aria-hidden="true"
      >
        <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
        <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
      </svg>
    </button>

    <span id="copyFeedback" aria-hidden="true" role="alert">âœ…</span>
  </div>

  <div class="buttons-container">
    <button id="factButton">Show Me a Random Fact</button>
    <button id="muteToggle" title="Toggle sound">ðŸ”Š</button>
  </div>

<script>
  // Starfield canvas setup
  const canvas = document.getElementById('starfield');
  const ctx = canvas.getContext('2d');
  let stars = [];
  const starCount = 150;
  let width, height;
  let mouseX = 0;
  let mouseY = 0;

  function initStars() {
    stars = [];
    for(let i=0; i<starCount; i++) {
      stars.push({
        x: Math.random() * width,
        y: Math.random() * height,
        radius: Math.random() * 1.3 + 0.3,
      });
    }
  }

  function resize() {
    width = window.innerWidth;
    height = window.innerHeight;
    canvas.width = width;
    canvas.height = height;
    initStars();
  }

  function drawStars() {
    ctx.clearRect(0, 0, width, height);
    ctx.fillStyle = 'white';
    stars.forEach(star => {
      let parallaxX = star.x + (mouseX - width/2) * 0.02 * star.radius;
      let parallaxY = star.y + (mouseY - height/2) * 0.02 * star.radius;

      ctx.beginPath();
      ctx.arc(parallaxX, parallaxY, star.radius, 0, 2 * Math.PI);
      ctx.fill();
    });
  }

  window.addEventListener('resize', resize);
  window.addEventListener('mousemove', e => {
    mouseX = e.clientX;
    mouseY = e.clientY;
  });

  function animateStarfield() {
    drawStars();
    requestAnimationFrame(animateStarfield);
  }

  resize();
  animateStarfield();

  // Base64 rocket images - 3 variants (colored little rocketship pictures)
  // These are tiny 30x40 pixel PNGs encoded in base64
  const rocketImages = [
    'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAoCAYAAAArW5ZsAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAdklEQVR4nO3TQQrAMAwEwLz/Wa36SFBquHDIyG37hUu8xQCI8Ix5UgOyebCVV1Jz2cK3AtYO5wE6EO0z9dDAU8vNx1qkIp0uhfOo2v1WqwYUbjCgkiIqYFM6ScXOd5nF+bEKghDZpRE4vDJL97hG3Lc0K9uXZX7Dr4AX35Lq4fn6sNAAAAAElFTkSuQmCC',
    'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAoCAYAAAArW5ZsAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAbUlEQVR4nO3UQQrAMAwEwLv/6aUqRg+kDxgCP4mOwyMIr5tVD1bjw6kz1a9cYDwHq0h88n2iBAO7UuDWxUqQHGoAtMcJzKX0aN6xlgcyCIqGzIPdJFSx8AqzqLKh1ZoXuSCxxCrP+DAz2v7A2X+0FtI8qqpNQAAAABJRU5ErkJggg==',
    'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAoCAYAAAArW5ZsAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAYklEQVR4nO3UQQrAMAwEwLz/6aUqRg+gPhgSPwomKkxKLrG1xCcHzRPHcQNO+vyBWE2BDq5Xq3NZzVbgiAsqBBxKDTBoO4kpGTwqOytCFQ4RCAxBTSkSQSUS6iPjEuJ2i41Sn04guSe/GK3jP6r9TKNxpaZ0AAAAASUVORK5CYII='
  ];

  const spaceObjectsContainer = document.getElementById('spaceObjectsContainer');

  class SpaceObject {
    constructor(type) {
      this.type = type;
      this.el = document.createElement('div');
      this.el.classList.add('space-object');

      if (type === 'planet') {
        this.size = 40 + Math.random() * 35;
        this.el.classList.add('planet');

        // Assign random planet color class
        const planetColors = ['red', 'blue', 'green', 'orange', 'purple'];
        const color = planetColors[Math.floor(Math.random() * planetColors.length)];
        this.el.classList.add(color);
        this.el.style.width = this.size + 'px';
        this.el.style.height = this.size + 'px';

      } else if (type === 'comet') {
        this.size = 20 + Math.random() * 20;
        this.el.classList.add('comet');
        this.el.style.width = this.size + 'px';
        this.el.style.height = this.size * 0.6 + 'px';

      } else if (type === 'asteroid') {
        this.size = 25 + Math.random() * 30;
        this.el.classList.add('asteroid');
        this.el.style.width = this.size + 'px';
        this.el.style.height = this.size + 'px';

      } else if (type === 'rocket') {
        this.size = 30;
        this.el.classList.add('rocket');
        this.el.style.width = this.size + 'px';
        this.el.style.height = this.size * 1.3 + 'px';

        // Set random rocket image background
        const img = rocketImages[Math.floor(Math.random() * rocketImages.length)];
        this.el.style.backgroundImage = `url(${img})`;
      }

      // Initial random position offscreen for animation start
      this.x = Math.random() * window.innerWidth;
      this.y = Math.random() * window.innerHeight;
      this.speedX = (Math.random() - 0.5) * 0.4; // slow horizontal drift
      this.speedY = (Math.random() - 0.5) * 0.4; // slow vertical drift
      this.el.style.left = this.x + 'px';
      this.el.style.top = this.y + 'px';

      spaceObjectsContainer.appendChild(this.el);
    }

    update() {
      this.x += this.speedX;
      this.y += this.speedY;

      // Wrap around screen edges
      if(this.x > window.innerWidth) this.x = 0 - this.size;
      if(this.x < 0 - this.size) this.x = window.innerWidth;
      if(this.y > window.innerHeight) this.y = 0 - this.size;
      if(this.y < 0 - this.size) this.y = window.innerHeight;

      this.el.style.left = this.x + 'px';
      this.el.style.top = this.y + 'px';
    }
  }

  const spaceObjects = [];

  const typesCount = {
    planet: 6,
    comet: 6,
    asteroid: 6,
    rocket: 5
  };

  for (let i = 0; i < typesCount.planet; i++) spaceObjects.push(new SpaceObject('planet'));
  for (let i = 0; i < typesCount.comet; i++) spaceObjects.push(new SpaceObject('comet'));
  for (let i = 0; i < typesCount.asteroid; i++) spaceObjects.push(new SpaceObject('asteroid'));
  for (let i = 0; i < typesCount.rocket; i++) spaceObjects.push(new SpaceObject('rocket'));

  function animateSpaceObjects() {
    spaceObjects.forEach(obj => obj.update());
    requestAnimationFrame(animateSpaceObjects);
  }

  animateSpaceObjects();

  const facts = [
    "The largest volcano in our solar system is Olympus Mons on Mars, standing about 22 kilometers high.",
    "A day on Venus is longer than a year on Venus.",
    "Neutron stars can spin up to 600 times per second.",
    "Jupiter's Great Red Spot is a giant storm that has lasted for over 350 years.",
    "The footprints left by astronauts on the Moon will remain there for millions of years.",
    "Saturn's rings are made mostly of ice particles with a smaller amount of rocky debris and dust.",
    "There are more stars in the universe than grains of sand on all the world's beaches.",
    "A teaspoon of neutron star material would weigh about 6 billion tons.",
    "The Milky Way galaxy is about 100,000 light years in diameter.",
    "Pluto is smaller than Earth's moon.",
    "The Sun accounts for about 99.86% of the total mass of our Solar System.",
    "The Hubble Space Telescope has helped discover that the universe is expanding at an accelerating rate.",
    "Mercury has ice in permanently shadowed craters near its poles.",
    "If you could fly a plane to Pluto, it would take over 800 years.",
    "The Voyager 1 spacecraft is the farthest human-made object from Earth."
  ];

  const factDisplay = document.getElementById('factDisplay');
  const factButton = document.getElementById('factButton');
  const copyButton = document.getElementById('copyButton');
  const copyFeedback = document.getElementById('copyFeedback');
  const muteToggle = document.getElementById('muteToggle');

  // Audio setup - use short beep, volume 0.35, don't loop
  const audio = new Audio('https://actions.google.com/sounds/v1/alarms/beep_short.ogg');
  audio.volume = 0.35;
  audio.loop = false;
  let muted = false;

  muteToggle.addEventListener('click', () => {
    muted = !muted;
    muteToggle.textContent = muted ? 'ðŸ”‡' : 'ðŸ”Š';
  });

  factButton.addEventListener('click', () => {
    factButton.disabled = true;

    // Pick a new random fact different from current
    let newFact;
    do {
      newFact = facts[Math.floor(Math.random() * facts.length)];
    } while (newFact === factDisplay.textContent);

    factDisplay.classList.remove('show');
    setTimeout(() => {
      factDisplay.textContent = newFact;
      factDisplay.classList.add('show');

      copyButton.style.display = 'inline-block';

      if (!muted) {
        audio.currentTime = 0;
        audio.play().catch(() => {});
      }

      factButton.disabled = false;
    }, 300);
  });

  copyButton.addEventListener('click', () => {
    if (!factDisplay.textContent) return;
    navigator.clipboard.writeText(factDisplay.textContent).then(() => {
      copyFeedback.style.display = 'inline-block';
      setTimeout(() => {
        copyFeedback.style.display = 'none';
      }, 1200);
    });
  });

  copyButton.style.display = 'none';

  // Accessibility aria-live for fact changes
  factDisplay.setAttribute('aria-live', 'polite');
  factDisplay.setAttribute('aria-atomic', 'true');

  factDisplay.classList.add('show');

  window.addEventListener('resize', () => {
    spaceObjects.forEach(obj => {
      obj.x = Math.min(obj.x, window.innerWidth - obj.size);
      obj.y = Math.min(obj.y, window.innerHeight - obj.size);
    });
  });
</script>
</body>
</html>
