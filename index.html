<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Random Space Fact Generator | Space Simplified</title>

<!-- Favicon links -->
<link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
<link rel="manifest" href="site.webmanifest">
<link rel="mask-icon" href="safari-pinned-tab.svg" color="#5bbad5">
<link rel="shortcut icon" href="favicon.ico">
<meta name="msapplication-TileColor" content="#2b5797">
<meta name="msapplication-config" content="browserconfig.xml">
<meta name="theme-color" content="#000010">

<style>
  body {
    margin: 0;
    height: 100vh;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    color: #e0e0e0;
    background: #000010;
    overflow: hidden;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    text-align: center;
    padding: 1rem;
    position: relative;
  }

  canvas#starfield {
    position: fixed;
    top: 0; left: 0;
    width: 100%;
    height: 100%;
    z-index: 0;
    pointer-events: none;
  }

  /* Space objects base style */
  .space-object {
    position: fixed;
    pointer-events: none;
    z-index: 0;
    will-change: transform;
  }

  /* PLANET base styles */
  .planet {
    border-radius: 50%;
    box-shadow: 0 0 8px 1px rgba(100,150,255,0.3);
    position: fixed;
    pointer-events: none;
  }

  /* COMET base style container */
  .comet {
    position: fixed;
    pointer-events: none;
    z-index: 0;
    will-change: transform;
    width: 40px;
    height: 15px;
  }

  /* ROCKET container */
  .rocket {
    position: fixed;
    pointer-events: none;
    z-index: 0;
    width: 30px;
    height: 40px;
  }

  /* Flames behind rocket */
  .flame {
    position: absolute;
    width: 14px;
    height: 20px;
    bottom: 0;
    left: 50%;
    transform: translateX(-50%);
    background: radial-gradient(circle at 50% 50%, #ff9e0d, #ff3a0d);
    filter: drop-shadow(0 0 6px #ff6600);
    border-radius: 50% 50% 40% 40%;
    animation: flameFlicker 0.15s infinite alternate;
    z-index: -1;
  }
  @keyframes flameFlicker {
    0% {
      transform: translateX(-50%) scaleY(1) scaleX(1);
      opacity: 1;
      filter: drop-shadow(0 0 6px #ff6600);
    }
    100% {
      transform: translateX(-50%) scaleY(1.3) scaleX(1.1);
      opacity: 0.7;
      filter: drop-shadow(0 0 10px #ff3300);
    }
  }

  /* Smoke trail container */
  .smoke-trail {
    position: fixed;
    pointer-events: none;
    width: 6px;
    height: 6px;
    background: radial-gradient(circle, rgba(200,200,200,0.3) 0%, rgba(200,200,200,0) 80%);
    border-radius: 50%;
    opacity: 0.4;
    z-index: 0;
    will-change: transform, opacity;
  }

  /* Heading and sparkle styles */
  h1 {
    font-size: 3rem;
    margin-bottom: 1rem;
    position: relative;
    z-index: 10;
    text-shadow: 0 0 8px #66fcf1;
  }

  .sparkle {
    display: inline-block;
    animation: sparkleAnim 2s linear infinite;
    font-size: 2.2rem;
    color: #66fcf1;
    margin-left: 0.3em;
    position: relative;
    top: 5px;
  }

  @keyframes sparkleAnim {
    0%, 100% { opacity: 1; transform: rotate(0deg) scale(1); }
    50% { opacity: 0.5; transform: rotate(20deg) scale(1.3); }
  }

  /* Fact display container */
  #factWrapper {
    position: relative;
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 10px;
    flex-wrap: wrap;
    max-width: 700px;
    z-index: 10;
    background: rgba(0,0,0,0.4);
    border-radius: 10px;
    padding: 0.6rem 1rem;
  }

  #factDisplay {
    font-size: 1.4rem;
    margin: 2rem 0;
    line-height: 1.6;
    position: relative;
    opacity: 0;
    animation: fadeIn 1s forwards;
    text-shadow: 0 0 6px #45a29eaa;
    max-width: 600px;
    word-wrap: break-word;
    color: #e0e0e0;
    z-index: 10;
  }

  #factDisplay.show {
    animation: fadeIn 1s forwards;
    opacity: 1;
  }

  @keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
  }

  /* Copy button and feedback */
  #copyButton {
    background: none;
    border: none;
    cursor: pointer;
    padding: 0;
    margin-left: 4px;
    display: none; /* hidden initially */
    color: #ccc;
    transition: color 0.2s ease, transform 0.2s ease;
    width: 24px;
    height: 24px;
    flex-shrink: 0;
    z-index: 10;
  }

  #copyButton:hover {
    color: #fff;
    transform: scale(1.2);
  }

  #copyFeedback {
    font-size: 1.5rem;
    color: #66fcf1;
    margin-left: 8px;
    user-select: none;
    display: none;
    align-self: center;
    z-index: 10;
  }

  /* Buttons container */
  .buttons-container {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    margin-top: 1rem;
    position: relative;
    z-index: 10;
  }

  /* Fact Button styles */
  #factButton {
    padding: 14px 35px;
    font-size: 1.3rem;
    border: none;
    border-radius: 10px;
    background-color: #1f2833;
    color: #66fcf1;
    cursor: pointer;
    transition: background-color 0.4s ease, box-shadow 0.4s ease, transform 0.2s ease;
    box-shadow: 0 0 12px #45a29e99;
    animation: pulseGlow 2.5s ease-in-out infinite;
    z-index: 10;
  }

  #factButton:disabled {
    cursor: not-allowed;
    opacity: 0.5;
    animation: none;
    box-shadow: none;
    background-color: #0a141b;
    color: #444;
  }

  @keyframes pulseGlow {
    0%, 100% { box-shadow: 0 0 12px #45a29e99, 0 0 20px #66fcf1cc; }
    50% { box-shadow: 0 0 20px #45a29ecc, 0 0 30px #66fcf1ff; }
  }

  #factButton:hover:not(:disabled) {
    background-color: #45a29e;
    box-shadow: 0 0 30px #66fcf1ff;
    transform: scale(1.05);
    animation: none;
  }

  #factButton:active:not(:disabled) {
    transform: scale(0.95);
    box-shadow: 0 0 10px #45a29e99;
  }

  /* Mute toggle icon */
  #muteToggle {
    background: none;
    border: none;
    font-size: 1.4rem;
    cursor: pointer;
    color: #66fcf1;
    padding: 0;
    margin: 0 0 0 12px;
    line-height: 1;
    user-select: none;
    transition: transform 0.2s ease;
    z-index: 10;
  }

  #muteToggle:hover {
    transform: scale(1.2);
  }
</style>
</head>
<body>

  <canvas id="starfield"></canvas>

  <!-- Container for space objects -->
  <div id="spaceObjectsContainer"></div>

  <h1>ðŸ”­ Random Space Fact Generator<span class="sparkle">âœ¨</span></h1>

  <div id="factWrapper" style="display:flex; align-items:center; justify-content:center; gap: 6px; flex-wrap:wrap; max-width:700px;">
    <p id="factDisplay">Click the button below to learn a cool space fact!</p>

    <button id="copyButton" title="Copy to clipboard" aria-label="Copy fact" aria-live="polite" aria-atomic="true" role="button">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
        stroke-linecap="round"
        stroke-linejoin="round"
        viewBox="0 0 24 24"
        width="24"
        height="24"
        aria-hidden="true"
      >
        <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
        <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
      </svg>
    </button>

    <span id="copyFeedback" aria-hidden="true" role="alert">âœ…</span>
  </div>

  <div class="buttons-container">
    <button id="factButton">Show Me a Random Fact</button>
    <button id="muteToggle" title="Toggle sound">ðŸ”Š</button>
  </div>

<script>
  // Starfield canvas setup
  const canvas = document.getElementById('starfield');
  const ctx = canvas.getContext('2d');
  let stars = [];
  const starCount = 150;
  let width, height;
  let mouseX = 0;
  let mouseY = 0;

  function initStars() {
    stars = [];
    for(let i=0; i<starCount; i++) {
      stars.push({
        x: Math.random() * width,
        y: Math.random() * height,
        radius: Math.random() * 1.3 + 0.3,
      });
    }
  }

  function resize() {
    width = window.innerWidth;
    height = window.innerHeight;
    canvas.width = width;
    canvas.height = height;
    initStars();
  }

  function drawStars() {
    ctx.clearRect(0, 0, width, height);
    ctx.fillStyle = 'white';
    stars.forEach(star => {
      let parallaxX = star.x + (mouseX - width/2) * 0.02 * star.radius;
      let parallaxY = star.y + (mouseY - height/2) * 0.02 * star.radius;

      ctx.beginPath();
      ctx.arc(parallaxX, parallaxY, star.radius, 0, 2 * Math.PI);
      ctx.fill();
    });
  }

  window.addEventListener('resize', resize);
  window.addEventListener('mousemove', e => {
    mouseX = e.clientX;
    mouseY = e.clientY;
  });

  function animateStarfield() {
    drawStars();
    requestAnimationFrame(animateStarfield);
  }

  resize();
  animateStarfield();

  // Container for space objects
  const spaceObjectsContainer = document.getElementById('spaceObjectsContainer');

  // Safe zone dimensions (centered rectangle with no objects inside)
  const safeZoneWidth = 700;
  const safeZoneHeight = 300;

  function getSafeZoneRect() {
    const left = window.innerWidth / 2 - safeZoneWidth / 2;
    const top = window.innerHeight / 2 - safeZoneHeight / 2;
    return {left, right: left + safeZoneWidth, top, bottom: top + safeZoneHeight};
  }

  function isInSafeZone(x, y, size = 0) {
    const rect = getSafeZoneRect();
    return (
      x + size > rect.left &&
      x < rect.right &&
      y + size > rect.top &&
      y < rect.bottom
    );
  }

  // === PLANET GENERATION ===

  const planetColors = ['#b0413e', '#4b7dad', '#4ca36c', '#d17f3c', '#7855b8'];
  const craterPatterns = [
    `radial-gradient(circle at 30% 30%, rgba(0,0,0,0.15) 10%, transparent 12%),
     radial-gradient(circle at 70% 60%, rgba(0,0,0,0.12) 15%, transparent 18%),
     radial-gradient(circle at 55% 75%, rgba(0,0,0,0.2) 8%, transparent 10%)`,
    `radial-gradient(circle at 25% 25%, rgba(0,0,0,0.2) 8%, transparent 10%),
     radial-gradient(circle at 65% 60%, rgba(0,0,0,0.15) 14%, transparent 17%),
     radial-gradient(circle at 50% 80%, rgba(0,0,0,0.25) 7%, transparent 9%)`
  ];

  class Planet {
    constructor() {
      this.el = document.createElement('div');
      this.el.classList.add('space-object', 'planet');

      // Random size 40-80 px
      this.size = 40 + Math.random() * 40;
      this.el.style.width = this.size + 'px';
      this.el.style.height = this.size + 'px';

      // Random color and crater pattern
      const color = planetColors[Math.floor(Math.random() * planetColors.length)];
      const craterPattern = craterPatterns[Math.floor(Math.random() * craterPatterns.length)];

      this.el.style.backgroundColor = color;
      this.el.style.backgroundImage = craterPattern;
      this.el.style.backgroundRepeat = 'no-repeat';
      this.el.style.backgroundPosition = 'center';
      this.el.style.backgroundSize = 'cover';

      // Position randomly OUTSIDE safe zone
      let x, y;
      do {
        x = Math.random() * (window.innerWidth - this.size);
        y = Math.random() * (window.innerHeight - this.size);
      } while (isInSafeZone(x, y, this.size));

      this.x = x;
      this.y = y;

      this.el.style.left = `${this.x}px`;
      this.el.style.top = `${this.y}px`;

      spaceObjectsContainer.appendChild(this.el);
    }
  }

  // === ROCKET ===
  // Simple, colorful SVG rocket emoji style
  const rocketSVG = `
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64" width="30" height="40" fill="none">
  <path fill="#ff4d4d" d="M32 2s-12 20-12 32 5 14 12 14 12-4 12-14-12-32-12-32z"/>
  <ellipse cx="32" cy="25" rx="6" ry="8" fill="#fff" />
  <circle cx="32" cy="25" r="4" fill="#2f8fd4" />
  <path fill="#ffb84d" d="M20 54s6-8 12-8 12 8 12 8-6 4-12 4-12-4-12-4z"/>
</svg>
`;

  class Rocket {
    constructor() {
      this.size = 30;
      this.height = 40;
      this.x = 0;
      this.y = 0;
      this.speed = 0.6 + Math.random() * 0.7;
      this.angle = 0;
      this.vx = 0;
      this.vy = 0;
      this.smokeParticles = [];

      this.el = document.createElement('div');
      this.el.classList.add('space-object', 'rocket');
      this.el.style.width = this.size + 'px';
      this.el.style.height = this.height + 'px';
      this.el.innerHTML = rocketSVG;
      spaceObjectsContainer.appendChild(this.el);

      this.flame = document.createElement('div');
      this.flame.classList.add('flame');
      this.el.appendChild(this.flame);

      this.spawn();
    }

    spawn() {
      const rect = getSafeZoneRect();
      const margin = 50;
      const screenWidth = window.innerWidth;
      const screenHeight = window.innerHeight;

      // Spawn at random edge outside screen + margin
      const edge = Math.floor(Math.random() * 4);

      if (edge === 0) { // top
        this.x = Math.random() * screenWidth;
        this.y = -this.height - margin;
      } else if (edge === 1) { // right
        this.x = screenWidth + margin;
        this.y = Math.random() * screenHeight;
      } else if (edge === 2) { // bottom
        this.x = Math.random() * screenWidth;
        this.y = screenHeight + margin;
      } else { // left
        this.x = -this.size - margin;
        this.y = Math.random() * screenHeight;
      }

      // Target random point outside safe zone (opposite side)
      do {
        this.targetX = Math.random() * screenWidth;
        this.targetY = Math.random() * screenHeight;
      } while (
        this.targetX > rect.left &&
        this.targetX < rect.right &&
        this.targetY > rect.top &&
        this.targetY < rect.bottom
      );

      const dx = this.targetX - this.x;
      const dy = this.targetY - this.y;
      const dist = Math.sqrt(dx * dx + dy * dy);
      this.vx = (dx / dist) * this.speed;
      this.vy = (dy / dist) * this.speed;

      // Calculate angle so rocket points towards velocity
      this.angle = Math.atan2(this.vy, this.vx) * 180 / Math.PI + 90;

      this.updatePosition();
    }

    updatePosition() {
      this.el.style.transform = `translate(${this.x}px, ${this.y}px) rotate(${this.angle}deg)`;
    }

    update() {
      this.x += this.vx;
      this.y += this.vy;

      // Create smoke particles behind rocket
      this.smokeParticles.push(new SmokeParticle(
        this.x + this.size/2 + (Math.random() * 6 - 3),
        this.y + this.height - 8 + (Math.random() * 3 - 1)
      ));

      // Update smoke particles and remove dead
      this.smokeParticles = this.smokeParticles.filter(p => p.update());

      this.updatePosition();

      const margin = 80;
      if (
        this.x < -margin || this.x > window.innerWidth + margin ||
        this.y < -margin || this.y > window.innerHeight + margin
      ) {
        // Remove all smoke particles and element
        this.smokeParticles.forEach(p => p.element.remove());
        this.smokeParticles = [];
        this.el.remove();
        return false;
      }
      return true;
    }
  }

  // === SMOKE PARTICLE ===
  class SmokeParticle {
    constructor(x, y) {
      this.x = x;
      this.y = y;
      this.size = 6 + Math.random() * 4;
      this.opacity = 0.4;
      this.life = 60 + Math.random() * 30;
      this.vx = (Math.random() - 0.5) * 0.15;
      this.vy = -0.2 - Math.random() * 0.1;

      this.element = document.createElement('div');
      this.element.classList.add('smoke-trail');
      this.element.style.width = this.size + 'px';
      this.element.style.height = this.size + 'px';
      spaceObjectsContainer.appendChild(this.element);
      this.updateElement();
    }

    updateElement() {
      this.element.style.transform = `translate(${this.x}px, ${this.y}px)`;
      this.element.style.opacity = this.opacity;
      this.element.style.width = this.size + 'px';
      this.element.style.height = this.size + 'px';
    }

    update() {
      this.x += this.vx;
      this.y += this.vy;
      this.opacity -= 0.007;
      this.life--;
      this.size *= 0.97;
      this.updateElement();

      if (this.opacity <= 0 || this.life <= 0) {
        this.element.remove();
        return false;
      }
      return true;
    }
  }

  // === COMET ===
  // Improved comet SVG with glowing nucleus and long tail
  const cometSVG = `
  <svg viewBox="0 0 64 24" width="50" height="18" xmlns="http://www.w3.org/2000/svg" >
    <defs>
      <radialGradient id="cometTail" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(15 12) rotate(90) scale(25 8)">
        <stop offset="0%" stop-color="white" stop-opacity="0.7"/>
        <stop offset="100%" stop-color="white" stop-opacity="0"/>
      </radialGradient>
    </defs>
    <ellipse cx="12" cy="12" rx="10" ry="7" fill="url(#cometTail)"/>
    <circle cx="40" cy="12" r="10" fill="#FFF" />
    <circle cx="40" cy="12" r="6" fill="#66ccff" />
    <circle cx="40" cy="12" r="3" fill="#0099ff" />
  </svg>
  `;

  class Comet {
    constructor() {
      this.el = document.createElement('div');
      this.el.classList.add('space-object', 'comet');
      this.el.innerHTML = cometSVG;
      spaceObjectsContainer.appendChild(this.el);

      this.size = 50;
      this.width = 50;
      this.height = 18;

      // Spawn random position outside safe zone
      let x, y;
      do {
        x = Math.random() * (window.innerWidth - this.width);
        y = Math.random() * (window.innerHeight - this.height);
      } while (isInSafeZone(x, y, this.width));

      this.x = x;
      this.y = y;

      // Velocity vector with random speed and direction
      const speed = 0.4 + Math.random() * 0.6;
      const angle = Math.random() * 2 * Math.PI;
      this.vx = Math.cos(angle) * speed;
      this.vy = Math.sin(angle) * speed;

      this.angle = Math.random() * 360;
      this.angularVelocity = (Math.random() - 0.5) * 0.3;
    }

    update() {
      this.x += this.vx;
      this.y += this.vy;
      this.angle += this.angularVelocity;

      // Screen wrap
      if (this.x < -this.width) this.x = window.innerWidth + this.width;
      if (this.x > window.innerWidth + this.width) this.x = -this.width;
      if (this.y < -this.height) this.y = window.innerHeight + this.height;
      if (this.y > window.innerHeight + this.height) this.y = -this.height;

      this.el.style.transform = `translate(${this.x}px, ${this.y}px) rotate(${this.angle}deg)`;
      return true;
    }
  }

  // === SPAWN & ANIMATE ===
  const planets = [];
  const rockets = [];
  const comets = [];

  function spawnPlanets() {
    planets.forEach(p => p.el.remove());
    planets.length = 0;

    for(let i = 0; i < 7; i++) {
      planets.push(new Planet());
    }
  }

  function spawnObjects() {
    rockets.forEach(r => r.el.remove());
    rockets.length = 0;
    comets.forEach(c => c.el.remove());
    comets.length = 0;

    for(let i = 0; i < 5; i++) {
      rockets.push(new Rocket());
    }
    for(let i = 0; i < 8; i++) {
      comets.push(new Comet());
    }
  }

  function animateObjects() {
    for(let i = rockets.length - 1; i >= 0; i--) {
      if(!rockets[i].update()) {
        rockets.splice(i, 1);
        rockets.push(new Rocket());
      }
    }
    comets.forEach(c => c.update());

    requestAnimationFrame(animateObjects);
  }

  function setupSpace() {
    spawnPlanets();
    spawnObjects();
    animateObjects();
  }

  window.addEventListener('resize', () => {
    planets.forEach(p => p.el.remove());
    rockets.forEach(r => r.el.remove());
    comets.forEach(c => c.el.remove());

    planets.length = 0;
    rockets.length = 0;
    comets.length = 0;

    spawnPlanets();
    spawnObjects();
  });

  setupSpace();

  // === FACT GENERATOR LOGIC ===
  const factButton = document.getElementById('factButton');
  const factDisplay = document.getElementById('factDisplay');
  const copyButton = document.getElementById('copyButton');
  const copyFeedback = document.getElementById('copyFeedback');
  const muteToggle = document.getElementById('muteToggle');

  // Sample facts
  const facts = [
    "A day on Venus is longer than a year on Venus.",
    "Neutron stars can spin 600 times per second.",
    "Jupiter has the shortest day of all planets.",
    "Saturn's rings are made mostly of ice particles.",
    "Mars has the tallest volcano in the solar system.",
    "The footprints on the Moon will likely remain for millions of years.",
    "One million Earths could fit inside the Sun.",
    "The hottest planet isn't the closest to the Sun.",
    "There are more stars in the universe than grains of sand on Earth.",
    "A teaspoon of neutron star would weigh 6 billion tons."
  ];

  // Sound setup
  let audioCtx;
  let oscillator;
  let muted = false;

  function playBeep() {
    if (muted) return;
    if (!audioCtx) {
      audioCtx = new (window.AudioContext || window.webkitAudioContext)();
    }
    oscillator = audioCtx.createOscillator();
    const gainNode = audioCtx.createGain();
    oscillator.type = 'square';
    oscillator.frequency.setValueAtTime(600, audioCtx.currentTime);
    gainNode.gain.setValueAtTime(0.1, audioCtx.currentTime);
    oscillator.connect(gainNode);
    gainNode.connect(audioCtx.destination);
    oscillator.start();
    oscillator.stop(audioCtx.currentTime + 0.1);
  }

  factButton.addEventListener('click', () => {
    const randomIndex = Math.floor(Math.random() * facts.length);
    factDisplay.textContent = facts[randomIndex];
    factDisplay.classList.add('show');
    copyButton.style.display = 'inline-block';
    playBeep();
  });

  copyButton.addEventListener('click', () => {
    navigator.clipboard.writeText(factDisplay.textContent).then(() => {
      copyFeedback.style.display = 'inline';
      setTimeout(() => copyFeedback.style.display = 'none', 1500);
    });
  });

  muteToggle.addEventListener('click', () => {
    muted = !muted;
    muteToggle.textContent = muted ? 'ðŸ”‡' : 'ðŸ”Š';
  });
</script>

</body>
</html>
