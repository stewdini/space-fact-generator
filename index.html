<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Random Space Fact Generator | Space Simplified</title>
<style>
  body {
    margin: 0;
    height: 100vh;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    color: #e0e0e0;
    background: #000010;
    overflow: hidden;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    text-align: center;
    padding: 1rem;
    position: relative;
  }

  canvas#starfield {
    position: fixed;
    top: 0; left: 0;
    width: 100%;
    height: 100%;
    z-index: 0;
    pointer-events: none;
  }

  #spaceObjectsContainer {
    position: fixed;
    top: 0; left: 0;
    width: 100%; height: 100%;
    pointer-events: none;
    z-index: 0;
    overflow: visible;
  }

  .space-object {
    position: fixed;
    pointer-events: none;
    will-change: transform;
  }

  /* PLANETS with subtle craters */
  .planet {
    border-radius: 50%;
    box-shadow: 0 0 8px 1px rgba(100,150,255,0.3);
    background-repeat: no-repeat;
    background-position: center;
    background-size: cover;
  }
  .planet.red {
    background-color: #b0413e;
    background-image:
      radial-gradient(circle at 30% 30%, #a03736 10%, transparent 12%),
      radial-gradient(circle at 70% 60%, #a83a3a 15%, transparent 18%),
      radial-gradient(circle at 55% 75%, #80312f 8%, transparent 10%);
    box-shadow: 0 0 6px 1px rgba(180, 65, 62, 0.35);
  }
  .planet.blue {
    background-color: #4b7dad;
    background-image:
      radial-gradient(circle at 25% 25%, #3d6890 8%, transparent 10%),
      radial-gradient(circle at 65% 60%, #366384 14%, transparent 17%),
      radial-gradient(circle at 50% 80%, #2b516f 7%, transparent 9%);
    box-shadow: 0 0 6px 1px rgba(75, 125, 173, 0.35);
  }
  .planet.green {
    background-color: #4ca36c;
    background-image:
      radial-gradient(circle at 30% 30%, #418b5a 10%, transparent 12%),
      radial-gradient(circle at 70% 60%, #3e7e52 14%, transparent 17%),
      radial-gradient(circle at 55% 75%, #2e5c3d 7%, transparent 9%);
    box-shadow: 0 0 6px 1px rgba(76, 163, 108, 0.35);
  }
  .planet.orange {
    background-color: #d17f3c;
    background-image:
      radial-gradient(circle at 30% 30%, #ab6831 10%, transparent 12%),
      radial-gradient(circle at 70% 60%, #9c5f2b 14%, transparent 17%),
      radial-gradient(circle at 55% 75%, #6d411d 7%, transparent 9%);
    box-shadow: 0 0 6px 1px rgba(209, 127, 60, 0.35);
  }
  .planet.purple {
    background-color: #7855b8;
    background-image:
      radial-gradient(circle at 30% 30%, #6646a1 10%, transparent 12%),
      radial-gradient(circle at 70% 60%, #5a3d8a 14%, transparent 17%),
      radial-gradient(circle at 55% 75%, #3d2b5f 7%, transparent 9%);
    box-shadow: 0 0 6px 1px rgba(120, 85, 184, 0.35);
  }

  /* Asteroids variants */
  .asteroid {
    width: 50px;
    height: 50px;
    background-repeat: no-repeat;
    background-size: contain;
  }
  .asteroid.variant1 {
    background-image: url('https://i.imgur.com/6Xrh1x7.png'); /* rough grey rock */
  }
  .asteroid.variant2 {
    background-image: url('https://i.imgur.com/jEaTXN3.png'); /* jagged rock */
  }
  .asteroid.variant3 {
    background-image: url('https://i.imgur.com/rQZ7bzF.png'); /* cracked rock */
  }
  .asteroid.variant4 {
    background-image: url('https://i.imgur.com/k61RUvf.png'); /* smaller, smooth rock */
  }

  /* ROCKETS container and SVG styles */
  .rocket {
    width: 30px;
    height: 40px;
    filter: drop-shadow(0 0 2px #fff9);
  }

  .flames {
    position: absolute;
    bottom: -10px;
    left: 50%;
    transform: translateX(-50%);
    width: 14px;
    height: 20px;
    pointer-events: none;
    filter: drop-shadow(0 0 4px #f90);
  }

  .smoke-trail {
    position: fixed;
    width: 10px;
    height: 10px;
    background: radial-gradient(circle, rgba(200,200,200,0.4) 0%, transparent 80%);
    border-radius: 50%;
    pointer-events: none;
    will-change: transform, opacity;
  }

  h1 {
    font-size: 3rem;
    margin-bottom: 1rem;
    position: relative;
    z-index: 2;
    text-shadow: 0 0 8px #66fcf1;
  }

  .sparkle {
    display: inline-block;
    animation: sparkleAnim 2s linear infinite;
    font-size: 2.2rem;
    color: #66fcf1;
    margin-left: 0.3em;
    position: relative;
    top: 5px;
  }

  @keyframes sparkleAnim {
    0%, 100% { opacity: 1; transform: rotate(0deg) scale(1); }
    50% { opacity: 0.5; transform: rotate(20deg) scale(1.3); }
  }

  #factWrapper {
    position: relative;
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 10px;
    flex-wrap: wrap;
    max-width: 700px;
    z-index: 2;
  }

  #factDisplay {
    font-size: 1.4rem;
    margin: 2rem 0;
    line-height: 1.6;
    position: relative;
    opacity: 0;
    animation: fadeIn 1s forwards;
    text-shadow: 0 0 6px #45a29eaa;
    max-width: 600px;
    word-wrap: break-word;
  }

  #factDisplay.show {
    animation: fadeIn 1s forwards;
    opacity: 1;
  }

  @keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
  }

  #copyButton {
    background: none;
    border: none;
    cursor: pointer;
    padding: 0;
    margin-left: 4px;
    display: none;
    color: #ccc;
    transition: color 0.2s ease, transform 0.2s ease;
    width: 24px;
    height: 24px;
    flex-shrink: 0;
  }

  #copyButton:hover {
    color: #fff;
    transform: scale(1.2);
  }

  #copyFeedback {
    font-size: 1.5rem;
    color: #66fcf1;
    margin-left: 8px;
    user-select: none;
    display: none;
    align-self: center;
  }

  .buttons-container {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    margin-top: 1rem;
    position: relative;
    z-index: 2;
  }

  #factButton {
    padding: 14px 35px;
    font-size: 1.3rem;
    border: none;
    border-radius: 10px;
    background-color: #1f2833;
    color: #66fcf1;
    cursor: pointer;
    transition: background-color 0.4s ease, box-shadow 0.4s ease, transform 0.2s ease;
    box-shadow: 0 0 12px #45a29e99;
    animation: pulseGlow 2.5s ease-in-out infinite;
  }

  #factButton:disabled {
    cursor: not-allowed;
    opacity: 0.5;
    animation: none;
    box-shadow: none;
    background-color: #0a141b;
    color: #444;
  }

  @keyframes pulseGlow {
    0%, 100% { box-shadow: 0 0 12px #45a29e99, 0 0 20px #66fcf1cc; }
    50% { box-shadow: 0 0 20px #45a29ecc, 0 0 30px #66fcf1ff; }
  }

  #factButton:hover:not(:disabled) {
    background-color: #45a29e;
    box-shadow: 0 0 30px #66fcf1ff;
    transform: scale(1.05);
    animation: none;
  }

  #factButton:active:not(:disabled) {
    transform: scale(0.95);
    box-shadow: 0 0 10px #45a29e99;
  }

  #muteToggle {
    background: none;
    border: none;
    font-size: 1.4rem;
    cursor: pointer;
    color: #66fcf1;
    padding: 0;
    margin: 0 0 0 12px;
    line-height: 1;
    user-select: none;
    transition: transform 0.2s ease;
  }

  #muteToggle:hover {
    transform: scale(1.2);
  }
</style>
</head>
<body>
  <canvas id="starfield"></canvas>

  <div id="spaceObjectsContainer"></div>

  <h1>ðŸ”­ Random Space Fact Generator<span class="sparkle">âœ¨</span></h1>

  <div id="factWrapper" style="display:flex; align-items:center; justify-content:center; gap: 6px; flex-wrap:wrap; max-width:700px;">
    <p id="factDisplay">Click the button below to learn a cool space fact!</p>

    <button id="copyButton" title="Copy to clipboard" aria-label="Copy fact" aria-live="polite" aria-atomic="true" role="button">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
        stroke-linecap="round"
        stroke-linejoin="round"
        viewBox="0 0 24 24"
        width="24"
        height="24"
        aria-hidden="true"
      >
        <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
        <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
      </svg>
    </button>

    <span id="copyFeedback" aria-hidden="true" role="alert">âœ…</span>
  </div>

  <div class="buttons-container">
    <button id="factButton">Show Me a Random Fact</button>
    <button id="muteToggle" title="Toggle sound">ðŸ”Š</button>
  </div>

<script>
  // Starfield canvas setup
  const canvas = document.getElementById('starfield');
  const ctx = canvas.getContext('2d');
  let stars = [];
  const starCount = 150;
  let width, height;
  let mouseX = 0;
  let mouseY = 0;

  function initStars() {
    stars = [];
    for(let i=0; i<starCount; i++) {
      stars.push({
        x: Math.random() * width,
        y: Math.random() * height,
        radius: Math.random() * 1.3 + 0.3,
      });
    }
  }

  function resize() {
    width = window.innerWidth;
    height = window.innerHeight;
    canvas.width = width;
    canvas.height = height;
    initStars();
  }

  function drawStars() {
    ctx.clearRect(0, 0, width, height);
    ctx.fillStyle = 'white';
    stars.forEach(star => {
      let parallaxX = star.x + (mouseX - width/2) * 0.02 * star.radius;
      let parallaxY = star.y + (mouseY - height/2) * 0.02 * star.radius;

      ctx.beginPath();
      ctx.arc(parallaxX, parallaxY, star.radius, 0, 2 * Math.PI);
      ctx.fill();
    });
  }

  window.addEventListener('resize', resize);
  window.addEventListener('mousemove', e => {
    mouseX = e.clientX;
    mouseY = e.clientY;
  });

  function animateStarfield() {
    drawStars();
    requestAnimationFrame(animateStarfield);
  }

  resize();
  animateStarfield();

  const spaceObjectsContainer = document.getElementById('spaceObjectsContainer');

  // Rocket SVG (colored, pointing right by default)
  const rocketSVG = `
  <svg viewBox="0 0 64 64" width="30" height="40" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path fill="#ff4d4d" d="M32 2s-12 20-12 32 5 14 12 14 12-4 12-14-12-32-12-32z"/>
    <ellipse cx="32" cy="25" rx="6" ry="8" fill="#fff" />
    <circle cx="32" cy="25" r="4" fill="#2f8fd4" />
    <path fill="#ffb84d" d="M20 54s6-8 12-8 12 8 12 8-6 4-12 4-12-4-12-4z"/>
  </svg>
  `;

  // Asteroid variants (using example transparent PNG links)
  const asteroidVariants = [
    'https://i.imgur.com/6Xrh1x7.png', // rough grey rock
    'https://i.imgur.com/jEaTXN3.png', // jagged rock
    'https://i.imgur.com/rQZ7bzF.png', // cracked rock
    'https://i.imgur.com/k61RUvf.png', // smaller smooth rock
  ];

  // Flame SVG (orange flames)
  const flameSVG = `
  <svg viewBox="0 0 16 20" width="14" height="20" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path fill="url(#flameGradient)" d="M8 0C4 8 8 14 8 14s4-6 0-14z" />
    <defs>
      <linearGradient id="flameGradient" x1="8" y1="0" x2="8" y2="14" gradientUnits="userSpaceOnUse">
        <stop stop-color="#ffb84d"/>
        <stop offset="1" stop-color="#ff4d4d"/>
      </linearGradient>
    </defs>
  </svg>
  `;

  class SpaceObject {
    constructor(type) {
      this.type = type;
      this.el = document.createElement('div');
      this.el.classList.add('space-object');

      if (type === 'planet') {
        this.size = 40 + Math.random() * 35;
        this.el.classList.add('planet');

        const planetColors = ['red', 'blue', 'green', 'orange', 'purple'];
        const color = planetColors[Math.floor(Math.random() * planetColors.length)];
        this.el.classList.add(color);

        this.x = Math.random() * window.innerWidth;
        this.y = Math.random() * window.innerHeight;

        const centerX = window.innerWidth/2;
        const centerY = window.innerHeight/2;
        const marginX = 300;
        const marginY = 150;
        if (this.x > centerX - marginX && this.x < centerX + marginX) {
          this.x = this.x < centerX ? centerX - marginX : centerX + marginX;
        }
        if (this.y > centerY - marginY && this.y < centerY + marginY) {
          this.y = this.y < centerY ? centerY - marginY : centerY + marginY;
        }

        this.el.style.width = `${this.size}px`;
        this.el.style.height = `${this.size}px`;
        this.el.style.left = `${this.x}px`;
        this.el.style.top = `${this.y}px`;
      } 
      else if (type === 'rocket') {
        this.size = 30;
        this.x = Math.random() * window.innerWidth;
        this.y = Math.random() * window.innerHeight;
        this.speed = 0.3 + Math.random() * 0.5; // slowed down
        this.direction = Math.random() * 360; 

        this.smokeTrails = [];

        this.el.classList.add('rocket');
        this.el.innerHTML = rocketSVG;
        this.el.style.left = `${this.x}px`;
        this.el.style.top = `${this.y}px`;
        this.el.style.width = `${this.size}px`;
        this.el.style.height = 'auto';

        // Flame behind rocket container
        this.flameEl = document.createElement('div');
        this.flameEl.classList.add('flames');
        this.flameEl.innerHTML = flameSVG;
        this.el.appendChild(this.flameEl);

      } else if (type === 'asteroid') {
        this.size = 50;
        this.x = Math.random() * window.innerWidth;
        this.y = Math.random() * window.innerHeight;
        this.speed = 0.1 + Math.random() * 0.2; // slow
        this.direction = Math.random() * 360;
        this.rotation = Math.random() * 360;
        this.rotationSpeed = (Math.random() - 0.5) * 0.5; // rotate slowly CW or CCW
        this.variant = asteroidVariants[Math.floor(Math.random() * asteroidVariants.length)];

        this.el.classList.add('asteroid');
        this.el.style.backgroundImage = `url(${this.variant})`;
        this.el.style.width = `${this.size}px`;
        this.el.style.height = `${this.size}px`;
        this.el.style.left = `${this.x}px`;
        this.el.style.top = `${this.y}px`;
      }

      spaceObjectsContainer.appendChild(this.el);
    }

    move() {
      const rad = this.direction * Math.PI / 180;
      this.x += this.speed * Math.cos(rad);
      this.y += this.speed * Math.sin(rad);

      // Wrap around screen edges
      if (this.x > window.innerWidth + this.size) this.x = -this.size;
      if (this.x < -this.size) this.x = window.innerWidth + this.size;
      if (this.y > window.innerHeight + this.size) this.y = -this.size;
      if (this.y < -this.size) this.y = window.innerHeight + this.size;

      this.el.style.left = `${this.x}px`;
      this.el.style.top = `${this.y}px`;

      if (this.type === 'rocket') {
        // Rotate to face movement direction minus 90 degrees (because rocket SVG points up)
        this.el.style.transform = `rotate(${this.direction - 90}deg)`;
        this.updateSmoke();
      }

      if (this.type === 'asteroid') {
        // Rotate slowly
        this.rotation += this.rotationSpeed;
        this.el.style.transform = `rotate(${this.rotation}deg)`;
      }
    }

    updateSmoke() {
      if (!this.smokeFrameCounter) this.smokeFrameCounter = 0;
      this.smokeFrameCounter++;
      if (this.smokeFrameCounter % 8 === 0) { // slower smoke generation
        const smoke = document.createElement('div');
        smoke.classList.add('smoke-trail');
        smoke.style.left = `${this.x + this.size/2}px`;
        smoke.style.top = `${this.y + this.size}px`;
        spaceObjectsContainer.appendChild(smoke);
        this.smokeTrails.push({el: smoke, life: 60});
      }

      this.smokeTrails.forEach((smoke, idx) => {
        smoke.life--;
        let opacity = smoke.life / 60;
        smoke.el.style.opacity = opacity;

        // Drift behind rocket with some randomness
        const driftX = (Math.random() - 0.5) * 0.4;
        const driftY = 0.25;
        let currentX = parseFloat(smoke.el.style.left);
        let currentY = parseFloat(smoke.el.style.top);
        smoke.el.style.left = `${currentX + driftX}px`;
        smoke.el.style.top = `${currentY + driftY}px`;

        if (smoke.life <= 0) {
          smoke.el.remove();
          this.smokeTrails.splice(idx, 1);
        }
      });
    }
  }

  // Create objects
  const planets = [];
  const rockets = [];
  const asteroids = [];

  for(let i=0; i<8; i++) planets.push(new SpaceObject('planet'));
  for(let i=0; i<4; i++) rockets.push(new SpaceObject('rocket'));
  for(let i=0; i<5; i++) asteroids.push(new SpaceObject('asteroid'));

  // Animate loop
  function animate() {
    rockets.forEach(r => r.move());
    asteroids.forEach(a => a.move());
    requestAnimationFrame(animate);
  }
  animate();

  // FACT GENERATOR LOGIC

  const factButton = document.getElementById('factButton');
  const factDisplay = document.getElementById('factDisplay');
  const copyButton = document.getElementById('copyButton');
  const copyFeedback = document.getElementById('copyFeedback');
  const muteToggle = document.getElementById('muteToggle');

  const facts = [
    "A day on Venus is longer than a year on Venus.",
    "Neutron stars can spin 600 times per second.",
    "There are more trees on Earth than stars in the Milky Way.",
    "Saturnâ€™s rings are made of ice and rock.",
    "A spoonful of neutron star would weigh about 6 billion tons.",
    "Jupiter has the shortest day of all planets.",
    "The largest volcano in the solar system is Olympus Mons on Mars.",
    "Pluto is smaller than Earth's moon.",
    "Space is completely silent â€” thereâ€™s no atmosphere to carry sound.",
    "One million Earths could fit inside the Sun."
  ];

  let soundMuted = false;

  const beepSound = new Audio('https://freesound.org/data/previews/66/66717_931655-lq.mp3');
  beepSound.volume = 0.3;

  function showRandomFact() {
    const fact = facts[Math.floor(Math.random() * facts.length)];
    factDisplay.textContent = fact;
    factDisplay.classList.add('show');
    copyButton.style.display = 'inline-flex';
    if (!soundMuted) beepSound.play();
  }

  copyButton.addEventListener('click', () => {
    navigator.clipboard.writeText(factDisplay.textContent).then(() => {
      copyFeedback.style.display = 'inline';
      setTimeout(() => copyFeedback.style.display = 'none', 1500);
    });
  });

  factButton.addEventListener('click', showRandomFact);

  muteToggle.addEventListener('click', () => {
    soundMuted = !soundMuted;
    muteToggle.textContent = soundMuted ? 'ðŸ”‡' : 'ðŸ”Š';
  });
</script>
</body>
</html>
