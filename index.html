<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Random Space Fact Generator | Space Simplified</title>
<style>
  body {
    margin: 0;
    height: 100vh;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    color: #e0e0e0;
    background: #000010;
    overflow: hidden;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    text-align: center;
    padding: 1rem;
    position: relative;
  }

  canvas#starfield {
    position: fixed;
    top: 0; left: 0;
    width: 100%;
    height: 100%;
    z-index: 0;
    pointer-events: none;
  }

  /* Space objects base style */
  .space-object {
    position: fixed;
    pointer-events: none;
    z-index: 0;
    will-change: transform;
    background-size: contain;
    background-repeat: no-repeat;
    background-position: center;
    transition: transform 0.05s linear;
  }

  /* PLANETS */
  .planet {
    border-radius: 50%;
    box-shadow: 0 0 8px 1px rgba(100,150,255,0.3);
    background-repeat: no-repeat;
    background-position: center;
    background-size: cover;
  }
  .planet.red {
    background-color: #b0413e;
    background-image:
      radial-gradient(circle at 30% 30%, #a03736 10%, transparent 12%),
      radial-gradient(circle at 70% 60%, #a83a3a 15%, transparent 18%),
      radial-gradient(circle at 55% 75%, #80312f 8%, transparent 10%);
    box-shadow: 0 0 6px 1px rgba(180, 65, 62, 0.35);
  }
  .planet.blue {
    background-color: #4b7dad;
    background-image:
      radial-gradient(circle at 25% 25%, #3d6890 8%, transparent 10%),
      radial-gradient(circle at 65% 60%, #366384 14%, transparent 17%),
      radial-gradient(circle at 50% 80%, #2b516f 7%, transparent 9%);
    box-shadow: 0 0 6px 1px rgba(75, 125, 173, 0.35);
  }
  .planet.green {
    background-color: #4ca36c;
    background-image:
      radial-gradient(circle at 30% 30%, #418b5a 10%, transparent 12%),
      radial-gradient(circle at 70% 60%, #3e7e52 14%, transparent 17%),
      radial-gradient(circle at 55% 75%, #2e5c3d 7%, transparent 9%);
    box-shadow: 0 0 6px 1px rgba(76, 163, 108, 0.35);
  }
  .planet.orange {
    background-color: #d17f3c;
    background-image:
      radial-gradient(circle at 30% 30%, #ab6831 10%, transparent 12%),
      radial-gradient(circle at 70% 60%, #9c5f2b 14%, transparent 17%),
      radial-gradient(circle at 55% 75%, #6d411d 7%, transparent 9%);
    box-shadow: 0 0 6px 1px rgba(209, 127, 60, 0.35);
  }
  .planet.purple {
    background-color: #7855b8;
    background-image:
      radial-gradient(circle at 30% 30%, #6646a1 10%, transparent 12%),
      radial-gradient(circle at 70% 60%, #5a3d8a 14%, transparent 17%),
      radial-gradient(circle at 55% 75%, #3d2b5f 7%, transparent 9%);
    box-shadow: 0 0 6px 1px rgba(120, 85, 184, 0.35);
  }

  h1 {
    font-size: 3rem;
    margin-bottom: 1rem;
    position: relative;
    z-index: 10;
    text-shadow: 0 0 8px #66fcf1;
  }

  .sparkle {
    display: inline-block;
    animation: sparkleAnim 2s linear infinite;
    font-size: 2.2rem;
    color: #66fcf1;
    margin-left: 0.3em;
    position: relative;
    top: 5px;
  }

  @keyframes sparkleAnim {
    0%, 100% { opacity: 1; transform: rotate(0deg) scale(1); }
    50% { opacity: 0.5; transform: rotate(20deg) scale(1.3); }
  }

  #factWrapper {
    position: relative;
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 10px;
    flex-wrap: wrap;
    max-width: 700px;
    z-index: 10;
  }

  #factDisplay {
    font-size: 1.4rem;
    margin: 2rem 0;
    line-height: 1.6;
    position: relative;
    opacity: 0;
    animation: fadeIn 1s forwards;
    text-shadow: 0 0 6px #45a29eaa;
    max-width: 600px;
    word-wrap: break-word;
  }

  #factDisplay.show {
    animation: fadeIn 1s forwards;
    opacity: 1;
  }

  #copyButton {
    background: none;
    border: none;
    cursor: pointer;
    padding: 0;
    margin-left: 4px;
    display: none;
    color: #ccc;
    transition: color 0.2s ease, transform 0.2s ease;
    width: 24px;
    height: 24px;
    flex-shrink: 0;
  }

  #copyButton:hover {
    color: #fff;
    transform: scale(1.2);
  }

  #copyFeedback {
    font-size: 1.5rem;
    color: #66fcf1;
    margin-left: 8px;
    user-select: none;
    display: none;
    align-self: center;
  }

  .buttons-container {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    margin-top: 1rem;
    position: relative;
    z-index: 10;
  }

  #factButton {
    padding: 14px 35px;
    font-size: 1.3rem;
    border: none;
    border-radius: 10px;
    background-color: #1f2833;
    color: #66fcf1;
    cursor: pointer;
    transition: background-color 0.4s ease, box-shadow 0.4s ease, transform 0.2s ease;
    box-shadow: 0 0 12px #45a29e99;
    animation: pulseGlow 2.5s ease-in-out infinite;
  }

  #factButton:disabled {
    cursor: not-allowed;
    opacity: 0.5;
    animation: none;
    box-shadow: none;
    background-color: #0a141b;
    color: #444;
  }

  @keyframes pulseGlow {
    0%, 100% { box-shadow: 0 0 12px #45a29e99, 0 0 20px #66fcf1cc; }
    50% { box-shadow: 0 0 20px #45a29ecc, 0 0 30px #66fcf1ff; }
  }

  #factButton:hover:not(:disabled) {
    background-color: #45a29e;
    box-shadow: 0 0 30px #66fcf1ff;
    transform: scale(1.05);
    animation: none;
  }

  #factButton:active:not(:disabled) {
    transform: scale(0.95);
    box-shadow: 0 0 10px #45a29e99;
  }

  #muteToggle {
    background: none;
    border: none;
    font-size: 1.4rem;
    cursor: pointer;
    color: #66fcf1;
    padding: 0;
    margin: 0 0 0 12px;
    line-height: 1;
    user-select: none;
    transition: transform 0.2s ease;
  }

  #muteToggle:hover {
    transform: scale(1.2);
  }

  /* Smoke style */
  .smoke {
    position: fixed;
    width: 14px;
    height: 14px;
    background: rgba(180,180,180,0.3);
    border-radius: 50%;
    filter: blur(3px);
    pointer-events: none;
    z-index: 0;
    will-change: opacity, transform;
    transform-origin: center center;
  }
</style>
<link rel="apple-touch-icon" sizes="180x180" href="images/apple-touch-icon.png" />
<link rel="icon" type="image/png" sizes="32x32" href="images/favicon-32x32.png" />
<link rel="icon" type="image/png" sizes="16x16" href="images/favicon-16x16.png" />
<link rel="manifest" href="images/site.webmanifest" />
<link rel="mask-icon" href="images/safari-pinned-tab.svg" color="#5bbad5" />
<meta name="msapplication-TileColor" content="#2b5797" />
<meta name="theme-color" content="#000000" />
</head>
<body>
  <canvas id="starfield"></canvas>

  <div id="spaceObjectsContainer"></div>

  <h1>ðŸ”­ Random Space Fact Generator<span class="sparkle">âœ¨</span></h1>

  <div id="factWrapper" style="display:flex; align-items:center; justify-content:center; gap: 6px; flex-wrap:wrap; max-width:700px;">
    <p id="factDisplay">Click the button below to learn a cool space fact!</p>

    <button id="copyButton" title="Copy to clipboard" aria-label="Copy fact" aria-live="polite" aria-atomic="true" role="button">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
        stroke-linecap="round"
        stroke-linejoin="round"
        viewBox="0 0 24 24"
        width="24"
        height="24"
        aria-hidden="true"
      >
        <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
        <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
      </svg>
    </button>

    <span id="copyFeedback" aria-hidden="true" role="alert">âœ…</span>
  </div>

  <div class="buttons-container">
    <button id="factButton">Show Me a Random Fact</button>
    <button id="muteToggle" title="Toggle sound">ðŸ”Š</button>
  </div>

<script>
  // Starfield setup
  const canvas = document.getElementById('starfield');
  const ctx = canvas.getContext('2d');
  let stars = [];
  const starCount = 150;
  let width, height;
  let mouseX = 0;
  let mouseY = 0;

  function initStars() {
    stars = [];
    for(let i=0; i<starCount; i++) {
      stars.push({
        x: Math.random() * width,
        y: Math.random() * height,
        radius: Math.random() * 1.3 + 0.3,
      });
    }
  }

  function resize() {
    width = window.innerWidth;
    height = window.innerHeight;
    canvas.width = width;
    canvas.height = height;
    initStars();
  }

  function drawStars() {
    ctx.clearRect(0, 0, width, height);
    ctx.fillStyle = 'white';
    stars.forEach(star => {
      let parallaxX = star.x + (mouseX - width/2) * 0.02 * star.radius;
      let parallaxY = star.y + (mouseY - height/2) * 0.02 * star.radius;

      ctx.beginPath();
      ctx.arc(parallaxX, parallaxY, star.radius, 0, 2 * Math.PI);
      ctx.fill();
    });
  }

  window.addEventListener('resize', resize);
  window.addEventListener('mousemove', e => {
    mouseX = e.clientX;
    mouseY = e.clientY;
  });

  function animateStarfield() {
    drawStars();
    requestAnimationFrame(animateStarfield);
  }

  resize();
  animateStarfield();

  // Images
  const rocketImages = [
    'https://stewdini.github.io/space-fact-generator/images/rocket1.png',
    'https://stewdini.github.io/space-fact-generator/images/rocket2.png',
  ];

  const asteroidImages = [
    'https://stewdini.github.io/space-fact-generator/images/asteroid1.png',
    'https://stewdini.github.io/space-fact-generator/images/asteroid2.png',
    'https://stewdini.github.io/space-fact-generator/images/asteroid3.png',
  ];

  const spaceObjectsContainer = document.getElementById('spaceObjectsContainer');

  class SpaceObject {
    constructor(type) {
      this.type = type;
      this.el = document.createElement('div');
      this.el.classList.add('space-object');

      if (type === 'planet') {
        this.size = 40 + Math.random() * 35;
        this.el.classList.add('planet');
        const planetColors = ['red', 'blue', 'green', 'orange', 'purple'];
        const color = planetColors[Math.floor(Math.random() * planetColors.length)];
        this.el.classList.add(color);

        // Position randomly but not in center 300x300 area
        do {
          this.x = Math.random() * window.innerWidth;
          this.y = Math.random() * window.innerHeight;
        } while(this.x > window.innerWidth/2 - 150 && this.x < window.innerWidth/2 + 150 &&
                this.y > window.innerHeight/2 - 150 && this.y < window.innerHeight/2 + 150);

        this.speedX = 0;
        this.speedY = 0;
        this.rotation = Math.random() * 360;
        this.rotationSpeed = 0;

        this.el.style.width = this.size + 'px';
        this.el.style.height = this.size + 'px';
        this.el.style.transformOrigin = '50% 50%';
      } else if (type === 'asteroid') {
        this.size = 30 + Math.random() * 20;
        this.el.style.backgroundImage = `url(${asteroidImages[Math.floor(Math.random() * asteroidImages.length)]})`;
        this.el.style.width = this.size + 'px';
        this.el.style.height = this.size + 'px';

        this.x = Math.random() * window.innerWidth;
        this.y = Math.random() * window.innerHeight;
        this.speedX = (Math.random() - 0.5) * 0.1;
        this.speedY = (Math.random() - 0.5) * 0.1;

        this.rotation = Math.random() * 360;
        this.rotationSpeed = (Math.random() - 0.5) * 0.2;

        this.el.style.transformOrigin = '50% 50%';
      } else if (type === 'rocket') {
        this.size = 30;
        this.el.style.backgroundImage = `url(${rocketImages[0]})`; // Use rocket1.png for now
        this.el.style.width = this.size + 'px';
        this.el.style.height = '40px';

        const edge = Math.floor(Math.random() * 4);
        switch(edge) {
          case 0: // top
            this.x = Math.random() * window.innerWidth;
            this.y = -50;
            this.speedX = (Math.random() - 0.5) * 0.35;
            this.speedY = 0.6 + Math.random() * 0.3; // faster downward
            break;
          case 1: // right
            this.x = window.innerWidth + 50;
            this.y = Math.random() * window.innerHeight;
            this.speedX = -(0.6 + Math.random() * 0.3); // faster left
            this.speedY = (Math.random() - 0.5) * 0.35;
            break;
          case 2: // bottom
            this.x = Math.random() * window.innerWidth;
            this.y = window.innerHeight + 50;
            this.speedX = (Math.random() - 0.5) * 0.35;
            this.speedY = -(0.6 + Math.random() * 0.3); // faster up
            break;
          case 3: // left
            this.x = -50;
            this.y = Math.random() * window.innerHeight;
            this.speedX = 0.6 + Math.random() * 0.3; // faster right
            this.speedY = (Math.random() - 0.5) * 0.35;
            break;
        }

        this.rotation = 0;
        this.rotationSpeed = 0;
        this.smokeTrail = [];

        this.el.style.transformOrigin = '50% 80%'; // pivot near bottom center so rotation looks right
      }

      this.updatePosition();
      spaceObjectsContainer.appendChild(this.el);
    }

    updatePosition() {
      this.el.style.left = this.x + 'px';
      this.el.style.top = this.y + 'px';
    }

    update() {
      this.x += this.speedX;
      this.y += this.speedY;

      if(this.type === 'planet') {
        // Optional slow rotation for planets
        this.rotation += 0.02;
        if(this.rotation > 360) this.rotation -= 360;
        this.el.style.transform = `rotate(${this.rotation}deg)`;
      } else if(this.type === 'asteroid') {
        this.rotation += this.rotationSpeed;
        if(this.rotation > 360) this.rotation -= 360;
        else if(this.rotation < 0) this.rotation += 360;
        this.el.style.transform = `rotate(${this.rotation}deg) translate(0,0)`;
      } else if(this.type === 'rocket') {
        // Remove if out of screen bounds + margin
        if(this.x < -100 || this.x > window.innerWidth + 100 || this.y < -100 || this.y > window.innerHeight + 100) {
          this.el.remove();
          return false; // tell caller to remove this object
        }

        // Rotate rocket to face direction of movement, +90 to align correctly
        this.rotation = Math.atan2(this.speedY, this.speedX) * 180 / Math.PI + 90;
        this.el.style.transform = `rotate(${this.rotation}deg)`;

        // Create smoke particle behind rocket ~30% chance per frame
        if(Math.random() < 0.3) {
          const smokeX = this.x + this.size / 2;  // horizontal center bottom
          const smokeY = this.y + 38;             // near bottom middle (adjust if needed)
          this.createSmokeParticle(smokeX, smokeY);
        }
      }

      this.updatePosition();
      return true;
    }

    createSmokeParticle(x, y) {
      const smoke = document.createElement('div');
      smoke.classList.add('smoke');
      smoke.style.left = x + 'px';
      smoke.style.top = y + 'px';

      spaceObjectsContainer.appendChild(smoke);

      let opacity = 0.4 + Math.random() * 0.3;
      let scale = 0.5 + Math.random() * 0.5;
      let rise = 0;
      let lifetime = 40 + Math.random() * 20;
      let frame = 0;

      function animateSmoke() {
        if(frame >= lifetime) {
          smoke.remove();
          return;
        }
        rise += 0.3;
        opacity -= 0.01;
        scale += 0.005;
        smoke.style.transform = `translateY(${-rise}px) scale(${scale})`;
        smoke.style.opacity = opacity;
        frame++;
        requestAnimationFrame(animateSmoke);
      }
      animateSmoke();
    }
  }

  const spaceObjects = [];

  // Generate some initial space objects
  for(let i=0; i<6; i++) {
    spaceObjects.push(new SpaceObject('planet'));
  }
  for(let i=0; i<5; i++) {
    spaceObjects.push(new SpaceObject('asteroid'));
  }
  for(let i=0; i<4; i++) {
    spaceObjects.push(new SpaceObject('rocket'));
  }

  function animateSpaceObjects() {
    for(let i = spaceObjects.length -1; i >= 0; i--) {
      const alive = spaceObjects[i].update();
      if(alive === false) {
        spaceObjects.splice(i, 1);
        // Replace with a new one of same type
        spaceObjects.push(new SpaceObject(spaceObjects[i]?.type || 'rocket'));
      }
    }
    requestAnimationFrame(animateSpaceObjects);
  }
  animateSpaceObjects();

  // Fact generator code (shortened for clarity)
  const facts = [
    "The largest volcano in our solar system is on Mars, Olympus Mons.",
    "Jupiter has the shortest day of all planets, completing a rotation in about 10 hours.",
    "Saturnâ€™s rings are made mostly of ice particles with a smaller amount of rocky debris.",
    "Venus spins backward compared to most planets, meaning the Sun rises in the west there.",
    "A day on Mercury lasts longer than its year!",
    "Neutron stars can spin 600 times per second.",
    "Space is not completely empty, it has tiny particles and radiation.",
    "The hottest planet is not the closest to the Sun, but Venus due to its thick atmosphere.",
    "Pluto is classified as a dwarf planet, not a full sized planet.",
    "There are thousands of exoplanets discovered beyond our solar system."
  ];

  const factDisplay = document.getElementById('factDisplay');
  const factButton = document.getElementById('factButton');
  const copyButton = document.getElementById('copyButton');
  const copyFeedback = document.getElementById('copyFeedback');

  factButton.addEventListener('click', () => {
    const randomFact = facts[Math.floor(Math.random() * facts.length)];
    factDisplay.textContent = randomFact;
    factDisplay.classList.add('show');
    copyButton.style.display = 'inline-block';
    copyFeedback.style.display = 'none';
  });

  copyButton.addEventListener('click', () => {
    navigator.clipboard.writeText(factDisplay.textContent).then(() => {
      copyFeedback.style.display = 'inline';
      setTimeout(() => {
        copyFeedback.style.display = 'none';
      }, 2000);
    });
  });

  // Sound mute toggle placeholder (no sound currently)
  const muteToggle = document.getElementById('muteToggle');
  let muted = false;
  muteToggle.addEventListener('click', () => {
    muted = !muted;
    muteToggle.textContent = muted ? 'ðŸ”‡' : 'ðŸ”Š';
  });
</script>
</body>
</html>
