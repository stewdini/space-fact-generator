<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Random Space Fact Generator | Space Simplified</title>
<style>
  body {
    margin: 0;
    height: 100vh;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    color: #e0e0e0;
    background: #000010;
    overflow: hidden;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    text-align: center;
    padding: 1rem;
    position: relative;
  }

  canvas#starfield {
    position: fixed;
    top: 0; left: 0;
    width: 100%;
    height: 100%;
    z-index: 0;
    pointer-events: none;
  }

  .space-object {
    position: fixed;
    pointer-events: none;
    z-index: 0;
    will-change: transform;
    background-size: contain;
    background-repeat: no-repeat;
    background-position: center;
  }

  .planet {
    border-radius: 50%;
    box-shadow: 0 0 8px 1px rgba(100,150,255,0.3);
    background-repeat: no-repeat;
    background-position: center;
    background-size: cover;
  }
  .planet.red { background-color: #b0413e; }
  .planet.blue { background-color: #4b7dad; }
  .planet.green { background-color: #4ca36c; }
  .planet.orange { background-color: #d17f3c; }
  .planet.purple { background-color: #7855b8; }

  h1 {
    font-size: 3rem;
    margin-bottom: 1rem;
    position: relative;
    z-index: 10;
    text-shadow: 0 0 8px #66fcf1;
  }

  .sparkle {
    display: inline-block;
    animation: sparkleAnim 2s linear infinite;
    font-size: 2.2rem;
    color: #66fcf1;
    margin-left: 0.3em;
    position: relative;
    top: 5px;
  }

  @keyframes sparkleAnim {
    0%,100% { opacity: 1; transform: rotate(0deg) scale(1); }
    50% { opacity: 0.5; transform: rotate(20deg) scale(1.3); }
  }

  #factWrapper {
    position: relative;
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 10px;
    flex-wrap: wrap;
    max-width: 700px;
    z-index: 10;
  }

  #factDisplay {
    font-size: 1.4rem;
    margin: 2rem 0;
    line-height: 1.6;
    position: relative;
    opacity: 0;
    animation: fadeIn 1s forwards;
    text-shadow: 0 0 6px #45a29eaa;
    max-width: 600px;
    word-wrap: break-word;
  }

  #factDisplay.show { opacity: 1; }

  #copyButton {
    background: none;
    border: none;
    cursor: pointer;
    padding: 0;
    margin-left: 4px;
    display: none;
    color: #ccc;
    transition: color 0.2s ease, transform 0.2s ease;
    width: 24px;
    height: 24px;
    flex-shrink: 0;
  }

  #copyButton:hover { color: #fff; transform: scale(1.2); }

  #copyFeedback {
    font-size: 1.5rem;
    color: #66fcf1;
    margin-left: 8px;
    user-select: none;
    display: none;
    align-self: center;
  }

  .buttons-container {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    margin-top: 1rem;
    position: relative;
    z-index: 10;
  }

  #factButton {
    padding: 14px 35px;
    font-size: 1.3rem;
    border: none;
    border-radius: 10px;
    background-color: #1f2833;
    color: #66fcf1;
    cursor: pointer;
    transition: background-color 0.4s ease, box-shadow 0.4s ease, transform 0.2s ease;
    box-shadow: 0 0 12px #45a29e99;
    animation: pulseGlow 2.5s ease-in-out infinite;
  }

  #factButton:hover:not(:disabled) {
    background-color: #45a29e;
    box-shadow: 0 0 30px #66fcf1ff;
    transform: scale(1.05);
    animation: none;
  }

  #muteToggle {
    background: none;
    border: none;
    font-size: 1.4rem;
    cursor: pointer;
    color: #66fcf1;
    padding: 0;
    margin: 0 0 0 12px;
    line-height: 1;
    user-select: none;
    transition: transform 0.2s ease;
  }

  #muteToggle:hover { transform: scale(1.2); }

  .smoke {
    position: fixed;
    width: 14px;
    height: 14px;
    background: rgba(180,180,180,0.3);
    border-radius: 50%;
    filter: blur(3px);
    pointer-events: none;
    z-index: 0;
    will-change: opacity, transform;
  }
</style>
</head>
<body>
<canvas id="starfield"></canvas>
<div id="spaceObjectsContainer"></div>
<h1>ðŸ”­ Random Space Fact Generator<span class="sparkle">âœ¨</span></h1>
<div id="factWrapper">
  <p id="factDisplay">Click the button below to learn a cool space fact!</p>
  <button id="copyButton" title="Copy to clipboard">
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24" width="24" height="24">
      <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
      <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
    </svg>
  </button>
  <span id="copyFeedback">âœ…</span>
</div>
<div class="buttons-container">
  <button id="factButton">Show Me a Random Fact</button>
  <button id="muteToggle" title="Toggle sound">ðŸ”Š</button>
</div>

<script>
// --- Starfield ---
const canvas = document.getElementById('starfield');
const ctx = canvas.getContext('2d');
let stars = [];
const starCount = 150;
let width, height;
let mouseX = 0, mouseY = 0;

function initStars(){
  stars=[];
  for(let i=0;i<starCount;i++){
    stars.push({x:Math.random()*width,y:Math.random()*height,radius:Math.random()*1.3+0.3});
  }
}
function resize(){
  width=window.innerWidth; height=window.innerHeight;
  canvas.width=width; canvas.height=height;
  initStars();
}
function drawStars(){
  ctx.clearRect(0,0,width,height);
  ctx.fillStyle='white';
  stars.forEach(star=>{
    let parallaxX = star.x + (mouseX-width/2)*0.02*star.radius;
    let parallaxY = star.y + (mouseY-height/2)*0.02*star.radius;
    ctx.beginPath();
    ctx.arc(parallaxX,parallaxY,star.radius,0,2*Math.PI);
    ctx.fill();
  });
}
window.addEventListener('resize',resize);
window.addEventListener('mousemove', e=>{ mouseX=e.clientX; mouseY=e.clientY; });
function animateStarfield(){ drawStars(); requestAnimationFrame(animateStarfield); }
resize(); animateStarfield();

// --- Space Objects ---
const rocketImages = [
  'https://stewdini.github.io/space-fact-generator/images/rocket1.png',
  'https://stewdini.github.io/space-fact-generator/images/rocket2.png',
];
const asteroidImages = [
  'https://stewdini.github.io/space-fact-generator/images/asteroid1.png',
  'https://stewdini.github.io/space-fact-generator/images/asteroid2.png',
  'https://stewdini.github.io/space-fact-generator/images/asteroid3.png',
];

class SpaceObject{
  constructor(type){
    this.type=type;
    this.el=document.createElement('div');
    this.el.classList.add('space-object');

    if(type==='planet'){
      this.size=40+Math.random()*35;
      this.el.classList.add('planet');
      const colors=['red','blue','green','orange','purple'];
      this.el.classList.add(colors[Math.floor(Math.random()*colors.length)]);
      this.x=Math.random()*window.innerWidth;
      this.y=Math.random()*window.innerHeight;
      this.speedX=0; this.speedY=0;
      this.rotation=Math.random()*360;
      this.rotationSpeed=0.02;
      this.el.style.width=this.size+'px';
      this.el.style.height=this.size+'px';
    }

    if(type==='asteroid'){
      this.size=30+Math.random()*20;
      this.el.style.backgroundImage=`url(${asteroidImages[Math.floor(Math.random()*asteroidImages.length)]})`;
      this.x=Math.random()*window.innerWidth;
      this.y=Math.random()*window.innerHeight;
      this.speedX=(Math.random()-0.5)*0.3;
      this.speedY=(Math.random()-0.5)*0.3;
      this.rotation=Math.random()*360;
      this.rotationSpeed=(Math.random()-0.5)*0.3;
      this.el.style.width=this.size+'px';
      this.el.style.height=this.size+'px';
    }

    if(type==='rocket'){
      this.size=30;
      this.el.style.backgroundImage=`url(${rocketImages[0]})`;
      this.el.style.width=this.size+'px';
      this.el.style.height='40px';
      const edge=Math.floor(Math.random()*4);
      switch(edge){
        case 0: this.x=Math.random()*window.innerWidth; this.y=-50; this.speedX=(Math.random()-0.5)*0.35; this.speedY=0.6+Math.random()*0.3; break;
        case 1: this.x=window.innerWidth+50; this.y=Math.random()*window.innerHeight; this.speedX=-(0.6+Math.random()*0.3); this.speedY=(Math.random()-0.5)*0.35; break;
        case 2: this.x=Math.random()*window.innerWidth; this.y=window.innerHeight+50; this.speedX=(Math.random()-0.5)*0.35; this.speedY=-(0.6+Math.random()*0.3); break;
        case 3: this.x=-50; this.y=Math.random()*window.innerHeight; this.speedX=0.6+Math.random()*0.3; this.speedY=(Math.random()-0.5)*0.35; break;
      }
      this.rotation=0; this.smokeTrail=[];
    }

    document.getElementById('spaceObjectsContainer').appendChild(this.el);
    this.updatePosition();
  }

  updatePosition(){
    this.el.style.transform=`translate(${this.x}px,${this.y}px) rotate(${this.rotation}deg)`;
  }

  createSmokeParticle(){
    const smoke=document.createElement('div');
    smoke.classList.add('smoke');
    const rad=(this.rotation-90)*Math.PI/180;
    const offset=20;
    const smokeX=this.x+this.size/2-Math.cos(rad)*offset;
    const smokeY=this.y+this.size/2-Math.sin(rad)*offset;
    smoke.style.left=smokeX+'px';
    smoke.style.top=smokeY+'px';
    document.getElementById('spaceObjectsContainer').appendChild(smoke);

    let opacity=0.4+Math.random()*0.3;
    let scale=0.5+Math.random()*0.5;
    let rise=0;
    let lifetime=40+Math.random()*20;
    let frame=0;
    const animateSmoke=()=>{
      if(frame>=lifetime){ smoke.remove(); return; }
      rise+=0.3;
      opacity-=0.01;
      scale+=0.005;
      smoke.style.transform=`translateY(${-rise}px) scale(${scale})`;
      smoke.style.opacity=opacity;
      frame++;
      requestAnimationFrame(animateSmoke);
    };
    animateSmoke();
  }

  update(){
    this.x+=this.speedX;
    this.y+=this.speedY;

    if(this.type==='planet'){ this.rotation+=this.rotationSpeed; if(this.rotation>360)this.rotation-=360; }
    if(this.type==='asteroid'){ this.rotation+=this.rotationSpeed; if(this.rotation>360)this.rotation-=360; else if(this.rotation<0)this.rotation+=360; }

    if(this.type==='rocket'){
      this.rotation=Math.atan2(this.speedY,this.speedX)*180/Math.PI+90;
      if(Math.random()<0.3)this.createSmokeParticle();
      if(this.x<-100||this.x>window.innerWidth+100||this.y<-100||this.y>window.innerHeight+100){
        this.el.remove(); return false;
      }
    }

    this.updatePosition(); return true;
  }
}

const spaceObjects=[];
for(let i=0;i<6;i++)spaceObjects.push(new SpaceObject('planet'));
for(let i=0;i<5;i++)spaceObjects.push(new SpaceObject('asteroid'));
for(let i=0;i<4;i++)spaceObjects.push(new SpaceObject('rocket'));

function animateSpaceObjects(){
  for(let i=spaceObjects.length-1;i>=0;i--){
    const alive=spaceObjects[i].update();
    if(!alive){
      const type=spaceObjects[i].type;
      spaceObjects.splice(i,1);
      spaceObjects.push(new SpaceObject(type));
    }
  }
  requestAnimationFrame(animateSpaceObjects);
}
animateSpaceObjects();

// --- Random Facts ---
const facts=[
  "The Sun accounts for 99.86% of the mass in our solar system.",
  "A day on Venus is longer than its year.",
  "Neutron stars can spin 600 times per second.",
  "There are more stars in the universe than grains of sand on Earth.",
  "Saturn could float in water because it is mostly gas.",
  "The Moon is slowly drifting away from Earth at 3.8cm per year.",
  "Jupiter has the shortest day of all planets, about 10 hours.",
  "Water has been found on the Moon and Mars.",
  "Black holes aren't blackâ€”they can glow via Hawking radiation.",
  "Some asteroids contain precious metals like platinum."
];
const factButton=document.getElementById('factButton');
const factDisplay=document.getElementById('factDisplay');
const copyButton=document.getElementById('copyButton');
const copyFeedback=document.getElementById('copyFeedback');

factButton.addEventListener('click',()=>{
  const fact=facts[Math.floor(Math.random()*facts.length)];
  factDisplay.textContent=fact;
  factDisplay.classList.add('show');
  copyButton.style.display='inline-block';
});
copyButton.addEventListener('click',()=>{
  navigator.clipboard.writeText(factDisplay.textContent);
  copyFeedback.style.display='inline-block';
  setTimeout(()=>{ copyFeedback.style.display='none'; },1000);
});
</script>
</body>
</html>
