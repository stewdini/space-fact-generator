<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Random Space Fact Generator | Space Simplified</title>

<!-- Favicon links -->
<link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png" />
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png" />
<link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png" />
<link rel="manifest" href="site.webmanifest" />
<link rel="shortcut icon" href="favicon.ico" />

<style>
  body {
    margin: 0;
    height: 100vh;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    color: #e0e0e0;
    background: #000010;
    overflow: hidden;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    text-align: center;
    padding: 1rem;
    position: relative;
  }

  canvas#starfield {
    position: fixed;
    top: 0; left: 0;
    width: 100%;
    height: 100%;
    z-index: 0;
    pointer-events: none;
  }

  #spaceObjectsContainer {
    position: fixed;
    top: 0; left: 0;
    width: 100vw;
    height: 100vh;
    pointer-events: none;
    z-index: 0;
  }

  /* Space objects base style */
  .space-object {
    position: absolute;
    pointer-events: none;
    will-change: transform;
  }

  /* PLANETS with subtle craters using multiple radial gradients */
  .planet {
    border-radius: 50%;
    box-shadow: 0 0 8px 1px rgba(100,150,255,0.3);
    background-repeat: no-repeat;
    background-position: center;
    background-size: cover;
    position: absolute;
  }
  .planet.red {
    background-color: #b0413e;
    background-image:
      radial-gradient(circle at 30% 30%, #a03736 10%, transparent 12%),
      radial-gradient(circle at 70% 60%, #a83a3a 15%, transparent 18%),
      radial-gradient(circle at 55% 75%, #80312f 8%, transparent 10%);
    box-shadow: 0 0 6px 1px rgba(180, 65, 62, 0.35);
  }
  .planet.blue {
    background-color: #4b7dad;
    background-image:
      radial-gradient(circle at 25% 25%, #3d6890 8%, transparent 10%),
      radial-gradient(circle at 65% 60%, #366384 14%, transparent 17%),
      radial-gradient(circle at 50% 80%, #2b516f 7%, transparent 9%);
    box-shadow: 0 0 6px 1px rgba(75, 125, 173, 0.35);
  }
  .planet.green {
    background-color: #4ca36c;
    background-image:
      radial-gradient(circle at 30% 30%, #418b5a 10%, transparent 12%),
      radial-gradient(circle at 70% 60%, #3e7e52 14%, transparent 17%),
      radial-gradient(circle at 55% 75%, #2e5c3d 7%, transparent 9%);
    box-shadow: 0 0 6px 1px rgba(76, 163, 108, 0.35);
  }
  .planet.orange {
    background-color: #d17f3c;
    background-image:
      radial-gradient(circle at 30% 30%, #ab6831 10%, transparent 12%),
      radial-gradient(circle at 70% 60%, #9c5f2b 14%, transparent 17%),
      radial-gradient(circle at 55% 75%, #6d411d 7%, transparent 9%);
    box-shadow: 0 0 6px 1px rgba(209, 127, 60, 0.35);
  }
  .planet.purple {
    background-color: #7855b8;
    background-image:
      radial-gradient(circle at 30% 30%, #6646a1 10%, transparent 12%),
      radial-gradient(circle at 70% 60%, #5a3d8a 14%, transparent 17%),
      radial-gradient(circle at 55% 75%, #3d2b5f 7%, transparent 9%);
    box-shadow: 0 0 6px 1px rgba(120, 85, 184, 0.35);
  }

  /* Rocket style (small colored rocket SVG as background) */
  .rocket {
    width: 30px;
    height: 40px;
    background-image: url('data:image/svg+xml;utf8,<svg fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="%2366fcf1" stroke="%2333aabb" stroke-width="1" d="M12 2c-1 2-2 6-2 8s1 5 2 6 2-3 2-6-1-6-2-8z"/><path fill="%23fff" d="M11 10h2v2h-2z"/><path fill="%2366fcf1" d="M10 18l-5 3 2-7 3 4z"/><path fill="%2390e0f0" d="M14 18l5 3-2-7-3 4z"/></svg>');
    background-size: contain;
    background-repeat: no-repeat;
    background-position: center;
    position: absolute;
    filter: drop-shadow(0 0 2px #66fcf1aa);
  }

  /* Asteroid SVG variants as backgrounds */
  .asteroid {
    width: 40px;
    height: 40px;
    position: absolute;
    background-repeat: no-repeat;
    background-size: contain;
    filter: drop-shadow(0 0 2px #997a5566);
  }
  .asteroid.type1 {
    background-image: url('data:image/svg+xml;utf8,<svg viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg"><circle fill="%23997a55" cx="32" cy="32" r="30"/><circle fill="%236b5432" cx="22" cy="22" r="10"/></svg>');
  }
  .asteroid.type2 {
    background-image: url('data:image/svg+xml;utf8,<svg viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg"><ellipse fill="%23997a55" cx="32" cy="32" rx="28" ry="22"/><circle fill="%236b5432" cx="38" cy="30" r="9"/></svg>');
  }
  .asteroid.type3 {
    background-image: url('data:image/svg+xml;utf8,<svg viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg"><polygon fill="%23997a55" points="10,12 54,8 58,56 16,54"/><circle fill="%236b5432" cx="28" cy="40" r="8"/></svg>');
  }

  /* Heading and sparkle styles */
  h1 {
    font-size: 3rem;
    margin-bottom: 1rem;
    position: relative;
    z-index: 2;
    text-shadow: 0 0 8px #66fcf1;
  }

  .sparkle {
    display: inline-block;
    animation: sparkleAnim 2s linear infinite;
    font-size: 2.2rem;
    color: #66fcf1;
    margin-left: 0.3em;
    position: relative;
    top: 5px;
  }

  @keyframes sparkleAnim {
    0%, 100% { opacity: 1; transform: rotate(0deg) scale(1); }
    50% { opacity: 0.5; transform: rotate(20deg) scale(1.3); }
  }

  /* Fact display container */
  #factWrapper {
    position: relative;
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 10px;
    flex-wrap: wrap;
    max-width: 700px;
    z-index: 2;
    margin-bottom: 1rem;
  }

  #factDisplay {
    font-size: 1.4rem;
    margin: 0;
    line-height: 1.6;
    position: relative;
    opacity: 0;
    animation: fadeIn 1s forwards;
    text-shadow: 0 0 6px #45a29eaa;
    max-width: 600px;
    word-wrap: break-word;
  }

  #factDisplay.show {
    animation: fadeIn 1s forwards;
    opacity: 1;
  }

  @keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
  }

  /* Copy button and feedback */
  #copyButton {
    background: none;
    border: none;
    cursor: pointer;
    padding: 0;
    margin-left: 4px;
    display: none; /* hidden initially */
    color: #ccc;
    transition: color 0.2s ease, transform 0.2s ease;
    width: 24px;
    height: 24px;
    flex-shrink: 0;
  }

  #copyButton:hover {
    color: #fff;
    transform: scale(1.2);
  }

  #copyFeedback {
    font-size: 1.5rem;
    color: #66fcf1;
    margin-left: 8px;
    user-select: none;
    display: none;
    align-self: center;
  }

  /* Buttons container */
  .buttons-container {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    margin-top: 1rem;
    position: relative;
    z-index: 2;
  }

  /* Fact Button styles */
  #factButton {
    padding: 14px 35px;
    font-size: 1.3rem;
    border: none;
    border-radius: 10px;
    background-color: #1f2833;
    color: #66fcf1;
    cursor: pointer;
    transition: background-color 0.4s ease, box-shadow 0.4s ease, transform 0.2s ease;
    box-shadow: 0 0 12px #45a29e99;
    animation: pulseGlow 2.5s ease-in-out infinite;
  }

  #factButton:disabled {
    cursor: not-allowed;
    opacity: 0.5;
    animation: none;
    box-shadow: none;
    background-color: #0a141b;
    color: #444;
  }

  @keyframes pulseGlow {
    0%, 100% { box-shadow: 0 0 12px #45a29e99, 0 0 20px #66fcf1cc; }
    50% { box-shadow: 0 0 20px #45a29ecc, 0 0 30px #66fcf1ff; }
  }

  #factButton:hover:not(:disabled) {
    background-color: #45a29e;
    box-shadow: 0 0 30px #66fcf1ff;
    transform: scale(1.05);
    animation: none;
  }

  #factButton:active:not(:disabled) {
    transform: scale(0.95);
    box-shadow: 0 0 10px #45a29e99;
  }

  /* Mute toggle icon */
  #muteToggle {
    background: none;
    border: none;
    font-size: 1.4rem;
    cursor: pointer;
    color: #66fcf1;
    padding: 0;
    margin: 0 0 0 12px;
    line-height: 1;
    user-select: none;
    transition: transform 0.2s ease;
  }

  #muteToggle:hover {
    transform: scale(1.2);
  }
</style>
</head>
<body>
  <canvas id="starfield"></canvas>

  <div id="spaceObjectsContainer"></div>

  <h1>ðŸ”­ Random Space Fact Generator<span class="sparkle">âœ¨</span></h1>

  <div id="factWrapper" aria-live="polite" aria-atomic="true" aria-relevant="additions">
    <p id="factDisplay" aria-live="polite" aria-atomic="true">Click the button below to learn a cool space fact!</p>

    <button id="copyButton" title="Copy to clipboard" aria-label="Copy fact" role="button" aria-live="polite" aria-atomic="true">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
        stroke-linecap="round"
        stroke-linejoin="round"
        viewBox="0 0 24 24"
        width="24"
        height="24"
        aria-hidden="true"
      >
        <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
        <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
      </svg>
    </button>

    <span id="copyFeedback" role="alert" aria-live="assertive" aria-hidden="true">âœ…</span>
  </div>

  <div class="buttons-container">
    <button id="factButton">Show Me a Random Fact</button>
    <button id="muteToggle" title="Toggle sound">ðŸ”Š</button>
  </div>

<script>
  // Starfield canvas setup
  const canvas = document.getElementById('starfield');
  const ctx = canvas.getContext('2d');
  let stars = [];
  const starCount = 150;
  let width, height;
  let mouseX = 0;
  let mouseY = 0;

  function initStars() {
    stars = [];
    for(let i=0; i<starCount; i++) {
      stars.push({
        x: Math.random() * width,
        y: Math.random() * height,
        radius: Math.random() * 1.3 + 0.3,
      });
    }
  }

  function resize() {
    width = window.innerWidth;
    height = window.innerHeight;
    canvas.width = width;
    canvas.height = height;
    initStars();
  }

  function drawStars() {
    ctx.clearRect(0, 0, width, height);
    ctx.fillStyle = 'white';
    stars.forEach(star => {
      let parallaxX = star.x + (mouseX - width/2) * 0.02 * star.radius;
      let parallaxY = star.y + (mouseY - height/2) * 0.02 * star.radius;

      ctx.beginPath();
      ctx.arc(parallaxX, parallaxY, star.radius, 0, 2 * Math.PI);
      ctx.fill();
    });
  }

  window.addEventListener('resize', resize);
  window.addEventListener('mousemove', e => {
    mouseX = e.clientX;
    mouseY = e.clientY;
  });

  function animateStarfield() {
    drawStars();
    requestAnimationFrame(animateStarfield);
  }

  resize();
  animateStarfield();

  // Space objects container
  const spaceObjectsContainer = document.getElementById('spaceObjectsContainer');

  // Helpers to avoid placing objects in center area behind text
  const safeZoneRadius = 250; // px radius around center to avoid placing objects

  // Utility function to generate random position avoiding center safe zone
  function randomPositionAvoidCenter(objSize) {
    let x, y;
    const cx = window.innerWidth/2;
    const cy = window.innerHeight/2;

    // Try until position is outside the safe zone circle
    do {
      x = Math.random() * (window.innerWidth - objSize);
      y = Math.random() * (window.innerHeight - objSize);
    } while (Math.hypot(x + objSize/2 - cx, y + objSize/2 - cy) < safeZoneRadius);
    return {x, y};
  }

  // Planet class (still)
  class Planet {
    constructor() {
      this.size = 40 + Math.random() * 35;
      this.el = document.createElement('div');
      this.el.classList.add('space-object', 'planet');

      const colors = ['red', 'blue', 'green', 'orange', 'purple'];
      this.color = colors[Math.floor(Math.random() * colors.length)];
      this.el.classList.add(this.color);

      const pos = randomPositionAvoidCenter(this.size);
      this.x = pos.x;
      this.y = pos.y;

      this.el.style.width = this.size + 'px';
      this.el.style.height = this.size + 'px';
      this.el.style.left = this.x + 'px';
      this.el.style.top = this.y + 'px';

      spaceObjectsContainer.appendChild(this.el);
    }
  }

  // Rocket class
  class Rocket {
    constructor() {
      this.sizeW = 30;
      this.sizeH = 40;
      this.el = document.createElement('div');
      this.el.classList.add('space-object', 'rocket');

      // Start just outside random edge, random direction
      const edge = Math.floor(Math.random() * 4);
      if(edge === 0) { // left
        this.x = -this.sizeW;
        this.y = Math.random() * window.innerHeight;
        this.direction = Math.random() * 180 - 90; // roughly rightward angles
      } else if(edge === 1) { // right
        this.x = window.innerWidth + this.sizeW;
        this.y = Math.random() * window.innerHeight;
        this.direction = Math.random() * 180 + 90; // roughly leftward
      } else if(edge === 2) { // top
        this.x = Math.random() * window.innerWidth;
        this.y = -this.sizeH;
        this.direction = Math.random() * 180 + 180; // roughly downward
      } else { // bottom
        this.x = Math.random() * window.innerWidth;
        this.y = window.innerHeight + this.sizeH;
        this.direction = Math.random() * 180; // roughly upward
      }

      this.speed = 0.8 + Math.random() * 0.4; // slower speed

      this.el.style.width = this.sizeW + 'px';
      this.el.style.height = this.sizeH + 'px';

      spaceObjectsContainer.appendChild(this.el);

      // Smoke trail particles array
      this.smokeParticles = [];
    }

    update() {
      // Move rocket based on direction and speed
      const rad = this.direction * Math.PI / 180;
      this.x += this.speed * Math.cos(rad);
      this.y += this.speed * Math.sin(rad);

      // Rotate to face direction
      const angle = this.direction;
      this.el.style.transform = `translate(${this.x}px, ${this.y}px) rotate(${angle}deg)`;

      // If out of screen bounds plus margin, reset position
      const margin = 50;
      if(this.x < -margin || this.x > window.innerWidth + margin || this.y < -margin || this.y > window.innerHeight + margin) {
        // Reset to new random edge and position/direction
        const edge = Math.floor(Math.random() * 4);
        if(edge === 0) { // left
          this.x = -this.sizeW;
          this.y = Math.random() * window.innerHeight;
          this.direction = Math.random() * 180 - 90;
        } else if(edge === 1) { // right
          this.x = window.innerWidth + this.sizeW;
          this.y = Math.random() * window.innerHeight;
          this.direction = Math.random() * 180 + 90;
        } else if(edge === 2) { // top
          this.x = Math.random() * window.innerWidth;
          this.y = -this.sizeH;
          this.direction = Math.random() * 180 + 180;
        } else { // bottom
          this.x = Math.random() * window.innerWidth;
          this.y = window.innerHeight + this.sizeH;
          this.direction = Math.random() * 180;
        }
      }
    }
  }

  // Asteroid class
  class Asteroid {
    constructor() {
      this.size = 35 + Math.random() * 25;
      this.el = document.createElement('div');
      this.el.classList.add('space-object', 'asteroid');

      // Assign random asteroid type class
      const types = ['type1', 'type2', 'type3'];
      this.type = types[Math.floor(Math.random() * types.length)];
      this.el.classList.add(this.type);

      const pos = randomPositionAvoidCenter(this.size);
      this.x = pos.x;
      this.y = pos.y;

      this.rotation = Math.random() * 360;
      this.rotationSpeed = (Math.random() * 0.1) - 0.05; // rotate -0.05 to 0.05 deg per frame

      this.speedX = (Math.random() * 0.3) - 0.15; // horizontal speed
      this.speedY = (Math.random() * 0.3) - 0.15; // vertical speed

      this.el.style.width = this.size + 'px';
      this.el.style.height = this.size + 'px';

      spaceObjectsContainer.appendChild(this.el);
    }

    update() {
      this.x += this.speedX;
      this.y += this.speedY;
      this.rotation += this.rotationSpeed;

      // Bounce off edges to stay inside viewport
      if(this.x < 0 || this.x + this.size > window.innerWidth) this.speedX *= -1;
      if(this.y < 0 || this.y + this.size > window.innerHeight) this.speedY *= -1;

      this.el.style.transform = `translate(${this.x}px, ${this.y}px) rotate(${this.rotation}deg)`;
    }
  }

  // Create planets (still)
  const planets = [];
  for(let i=0; i<15; i++) {
    planets.push(new Planet());
  }

  // Create rockets (moving)
  const rockets = [];
  for(let i=0; i<7; i++) {
    rockets.push(new Rocket());
  }

  // Create asteroids (moving + rotating)
  const asteroids = [];
  for(let i=0; i<10; i++) {
    asteroids.push(new Asteroid());
  }

  // Animate loop
  function animate() {
    rockets.forEach(r => r.update());
    asteroids.forEach(a => a.update());
    requestAnimationFrame(animate);
  }
  animate();

  // Random facts array
  const facts = [
    "A day on Venus is longer than its year.",
    "Neutron stars can spin 600 times per second.",
    "There are more trees on Earth than stars in the Milky Way.",
    "Mars has the tallest volcano in the solar system.",
    "Jupiter's Great Red Spot is a giant storm that has lasted for centuries.",
    "Saturn's rings are mostly made of ice particles.",
    "The Sun makes up 99.86% of the mass in our solar system.",
    "Mercury has no atmosphere and experiences extreme temperature changes.",
    "The largest asteroid in the asteroid belt is Ceres, which is also classified as a dwarf planet.",
    "Space is completely silent because there is no atmosphere to carry sound."
  ];

  // UI elements
  const factDisplay = document.getElementById('factDisplay');
  const factButton = document.getElementById('factButton');
  const copyButton = document.getElementById('copyButton');
  const copyFeedback = document.getElementById('copyFeedback');
  const muteToggle = document.getElementById('muteToggle');

  // Sound setup
  const sound = new Audio('https://actions.google.com/sounds/v1/alarms/beep_short.ogg');
  sound.volume = 0.3;
  let muted = false;

  muteToggle.addEventListener('click', () => {
    muted = !muted;
    muteToggle.textContent = muted ? 'ðŸ”‡' : 'ðŸ”Š';
  });

  // Show random fact with sound and copy button reveal
  factButton.addEventListener('click', () => {
    const randomFact = facts[Math.floor(Math.random() * facts.length)];
    factDisplay.textContent = randomFact;
    factDisplay.classList.add('show');

    if(!muted) sound.play().catch(() => {});

    copyButton.style.display = 'inline-block';
    copyFeedback.style.display = 'none';
  });

  // Copy fact to clipboard with feedback
  copyButton.addEventListener('click', () => {
    navigator.clipboard.writeText(factDisplay.textContent).then(() => {
      copyFeedback.style.display = 'inline-block';
      setTimeout(() => { copyFeedback.style.display = 'none'; }, 2000);
    });
  });

  // Accessibility: reset copy feedback on new fact
  factDisplay.addEventListener('DOMSubtreeModified', () => {
    copyFeedback.style.display = 'none';
  });
</script>
</body>
</html>
